var jt=Object.defineProperty;var Nt=(n,t,e)=>t in n?jt(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var $=(n,t,e)=>(Nt(n,typeof t!="symbol"?t+"":t,e),e);import{d as kt,r as E,c as Yt,a as G,o as j,b as N,e as k,t as et,f as Bt,g as ot,n as ft,F as ct,h as Ut,u as W,i as Z,j as Vt,k as Ft,l as q,m as qt,p as Mt,q as zt,w as nt,s as Qt,v as mt,x as Gt,y as Jt,T as Xt,z as Zt,A as xt,B as Kt,C as _t,D as Wt,E as te,G as ee,H as gt,I as ne,J as se,K as re}from"./index-a4737966.js";const It={"en-ru":{key:"en-ru",source:"en",target:"ru"}};class oe{constructor({host:t}){$(this,"_host");$(this,"_headers",{"Content-Type":"application/json"});$(this,"get",async t=>this.makeRequest(t,"GET"));$(this,"post",async(t,{body:e})=>this.makeRequest(t,"POST",{body:e}));this._host=t}get host(){return this._host}prepareBody(t){return t?{body:JSON.stringify(t)}:{}}async makeRequest(t,e,s){const r=new URL(t,this.host),l=await globalThis.fetch(r,{method:e,...this.prepareBody(s==null?void 0:s.body),headers:{...this._headers}});if(l.ok)return await l.json();{const u=await l.text();return Promise.reject(new Error(`[Fetcher][${r.toString()}]: `+u))}}}class ae{constructor(t){$(this,"fetcher");$(this,"langPair");this.langPair=t,this.fetcher=new oe({host:"https://translate.argosopentech.com/"})}getTranslation(t){return this.fetcher.post("/translate",{body:{q:t,source:this.langPair.source,target:this.langPair.target}}).then(e=>e.translatedText)}}class ie{constructor(t,e,s){$(this,"_database");$(this,"name");$(this,"version");$(this,"storeKeys");$(this,"handleOpen",t=>{this._database=t.result});$(this,"handleUpgrade",(t,e)=>{switch(e.oldVersion){default:{this.create(t);break}}});$(this,"create",t=>{this.database||(this._database=t.result),this.storeKeys.forEach(e=>{this.database.createObjectStore(e,{keyPath:"id",autoIncrement:!0})})});$(this,"makeGetAllTransaction",async t=>(await this.initDb(),new Promise((e,s)=>{const u=this.database.transaction(t,"readonly").objectStore(t).getAll();u.onsuccess=()=>e(u.result),u.onerror=()=>s(`[LocalDatabase][${t}]: Unable to get all`)})));$(this,"makeAddTransaction",async(t,e)=>(await this.initDb(),new Promise((s,r)=>{const o=this.database.transaction(t,"readwrite").objectStore(t).add(e);o.onsuccess=()=>s({...e,id:o.result}),o.onerror=()=>r(`[LocalDatabase][${t}]: Unable to add ${e}`)})));$(this,"makeDeleteTransaction",async(t,e)=>(await this.initDb(),new Promise((s,r)=>{const o=this.database.transaction(t,"readwrite").objectStore(t).delete(e);o.onsuccess=()=>s(e),o.onerror=()=>r(`[LocalDatabase][${t}]: Unable to delete ${e}`)})));$(this,"makeEditTransaction",async(t,e)=>(await this.initDb(),new Promise((s,r)=>{const o=this.database.transaction(t,"readwrite").objectStore(t).put(e,e.id);o.onsuccess=()=>s(e),o.onerror=()=>r(`[LocalDatabase][${t}]: Unable to edit ${o.result}`)})));this.name=t,this.version=e,this.storeKeys=s}get database(){return this._database}initDb(){return new Promise((t,e)=>{if(this.database)return t("Local database already initialized");const s=globalThis.indexedDB.open(this.name,this.version);s.onsuccess=()=>{this.handleOpen(s),t("Local database opened")},s.onupgradeneeded=r=>{this.handleUpgrade(s,r),t("Local database upgraded")},s.onerror=e})}}class le{constructor(t){$(this,"dbInstance");$(this,"dbName","dictionaries");$(this,"dbVersion",1);$(this,"dbStoreKey");this.dbStoreKey=t,this.dbInstance=new ie(this.dbName,this.dbVersion,Object.keys(It)),this.dbInstance.initDb()}getDictionary(){return this.dbInstance.makeGetAllTransaction(this.dbStoreKey)}addWord(t){return this.dbInstance.makeAddTransaction(this.dbStoreKey,t)}deleteWord(t){return this.dbInstance.makeDeleteTransaction(this.dbStoreKey,t)}editWord(t){return this.dbInstance.makeEditTransaction(this.dbStoreKey,t)}}class ce{constructor(t="en-ru"){$(this,"localService");$(this,"translationService");$(this,"langPair");this.langPair=It[t],this.localService=new le(t),this.translationService=new ae(this.langPair)}getAll(){return this.localService.getDictionary()}async addWord(t){return this.localService.addWord({...t,translation:"",dateAdd:Date.now()})}async updateWordTranslation(t){const e=await this.translationService.getTranslation(t.value);return this.localService.editWord({...t,translation:e})}async deleteWord(t){return this.localService.deleteWord(t)}}const Ct=Symbol("dictionary-store"),Lt=kt("dictionary",()=>{const n=new ce,t=E([]),e=o=>{t.value=t.value.map(d=>o.id===d.id?o:d)},s=async({value:o})=>{const d={value:o},f=await n.addWord(d);t.value=[f,...t.value],r(f)},r=async o=>{e({...o,isLoadTranslation:!0});let d=o;try{d=await n.updateWordTranslation(o)}finally{e({...d,isLoadTranslation:!1})}};return{words:t,addWord:s,removeWord:async o=>{const d=await n.deleteWord(o);t.value=t.value.filter(({id:f})=>f!==d)},fetchWords:async()=>{t.value=await n.getAll().then(o=>o.reverse())},updateWordTranslation:r}});var ut={},ue={get exports(){return ut},set exports(n){ut=n}};(function(n,t){(function(e,s){n.exports=s()})(Yt,function(){var e=1e3,s=6e4,r=36e5,l="millisecond",u="second",o="minute",d="hour",f="day",_="week",g="month",M="quarter",S="year",y="date",x="Invalid Date",P=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,B=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,at={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(h){var c=["th","st","nd","rd"],a=h%100;return"["+h+(c[(a-20)%10]||c[a]||c[0])+"]"}},J=function(h,c,a){var v=String(h);return!v||v.length>=c?h:""+Array(c+1-v.length).join(a)+h},I={s:J,z:function(h){var c=-h.utcOffset(),a=Math.abs(c),v=Math.floor(a/60),i=a%60;return(c<=0?"+":"-")+J(v,2,"0")+":"+J(i,2,"0")},m:function h(c,a){if(c.date()<a.date())return-h(a,c);var v=12*(a.year()-c.year())+(a.month()-c.month()),i=c.clone().add(v,g),m=a-i<0,p=c.clone().add(v+(m?-1:1),g);return+(-(v+(a-i)/(m?i-p:p-i))||0)},a:function(h){return h<0?Math.ceil(h)||0:Math.floor(h)},p:function(h){return{M:g,y:S,w:_,d:f,D:y,h:d,m:o,s:u,ms:l,Q:M}[h]||String(h||"").toLowerCase().replace(/s$/,"")},u:function(h){return h===void 0}},R="en",C={};C[R]=at;var A=function(h){return h instanceof st},z=function h(c,a,v){var i;if(!c)return R;if(typeof c=="string"){var m=c.toLowerCase();C[m]&&(i=m),a&&(C[m]=a,i=m);var p=c.split("-");if(!i&&p.length>1)return h(p[0])}else{var b=c.name;C[b]=c,i=b}return!v&&i&&(R=i),i||!v&&R},D=function(h,c){if(A(h))return h.clone();var a=typeof c=="object"?c:{};return a.date=h,a.args=arguments,new st(a)},w=I;w.l=z,w.i=A,w.w=function(h,c){return D(h,{locale:c.$L,utc:c.$u,x:c.$x,$offset:c.$offset})};var st=function(){function h(a){this.$L=z(a.locale,null,!0),this.parse(a)}var c=h.prototype;return c.parse=function(a){this.$d=function(v){var i=v.date,m=v.utc;if(i===null)return new Date(NaN);if(w.u(i))return new Date;if(i instanceof Date)return new Date(i);if(typeof i=="string"&&!/Z$/i.test(i)){var p=i.match(P);if(p){var b=p[2]-1||0,O=(p[7]||"0").substring(0,3);return m?new Date(Date.UTC(p[1],b,p[3]||1,p[4]||0,p[5]||0,p[6]||0,O)):new Date(p[1],b,p[3]||1,p[4]||0,p[5]||0,p[6]||0,O)}}return new Date(i)}(a),this.$x=a.x||{},this.init()},c.init=function(){var a=this.$d;this.$y=a.getFullYear(),this.$M=a.getMonth(),this.$D=a.getDate(),this.$W=a.getDay(),this.$H=a.getHours(),this.$m=a.getMinutes(),this.$s=a.getSeconds(),this.$ms=a.getMilliseconds()},c.$utils=function(){return w},c.isValid=function(){return this.$d.toString()!==x},c.isSame=function(a,v){var i=D(a);return this.startOf(v)<=i&&i<=this.endOf(v)},c.isAfter=function(a,v){return D(a)<this.startOf(v)},c.isBefore=function(a,v){return this.endOf(v)<D(a)},c.$g=function(a,v,i){return w.u(a)?this[v]:this.set(i,a)},c.unix=function(){return Math.floor(this.valueOf()/1e3)},c.valueOf=function(){return this.$d.getTime()},c.startOf=function(a,v){var i=this,m=!!w.u(v)||v,p=w.p(a),b=function(X,H){var F=w.w(i.$u?Date.UTC(i.$y,H,X):new Date(i.$y,H,X),i);return m?F:F.endOf(f)},O=function(X,H){return w.w(i.toDate()[X].apply(i.toDate("s"),(m?[0,0,0,0]:[23,59,59,999]).slice(H)),i)},T=this.$W,L=this.$M,V=this.$D,U="set"+(this.$u?"UTC":"");switch(p){case S:return m?b(1,0):b(31,11);case g:return m?b(1,L):b(0,L+1);case _:var K=this.$locale().weekStart||0,tt=(T<K?T+7:T)-K;return b(m?V-tt:V+(6-tt),L);case f:case y:return O(U+"Hours",0);case d:return O(U+"Minutes",1);case o:return O(U+"Seconds",2);case u:return O(U+"Milliseconds",3);default:return this.clone()}},c.endOf=function(a){return this.startOf(a,!1)},c.$set=function(a,v){var i,m=w.p(a),p="set"+(this.$u?"UTC":""),b=(i={},i[f]=p+"Date",i[y]=p+"Date",i[g]=p+"Month",i[S]=p+"FullYear",i[d]=p+"Hours",i[o]=p+"Minutes",i[u]=p+"Seconds",i[l]=p+"Milliseconds",i)[m],O=m===f?this.$D+(v-this.$W):v;if(m===g||m===S){var T=this.clone().set(y,1);T.$d[b](O),T.init(),this.$d=T.set(y,Math.min(this.$D,T.daysInMonth())).$d}else b&&this.$d[b](O);return this.init(),this},c.set=function(a,v){return this.clone().$set(a,v)},c.get=function(a){return this[w.p(a)]()},c.add=function(a,v){var i,m=this;a=Number(a);var p=w.p(v),b=function(L){var V=D(m);return w.w(V.date(V.date()+Math.round(L*a)),m)};if(p===g)return this.set(g,this.$M+a);if(p===S)return this.set(S,this.$y+a);if(p===f)return b(1);if(p===_)return b(7);var O=(i={},i[o]=s,i[d]=r,i[u]=e,i)[p]||1,T=this.$d.getTime()+a*O;return w.w(T,this)},c.subtract=function(a,v){return this.add(-1*a,v)},c.format=function(a){var v=this,i=this.$locale();if(!this.isValid())return i.invalidDate||x;var m=a||"YYYY-MM-DDTHH:mm:ssZ",p=w.z(this),b=this.$H,O=this.$m,T=this.$M,L=i.weekdays,V=i.months,U=function(H,F,it,rt){return H&&(H[F]||H(v,m))||it[F].slice(0,rt)},K=function(H){return w.s(b%12||12,H,"0")},tt=i.meridiem||function(H,F,it){var rt=H<12?"AM":"PM";return it?rt.toLowerCase():rt},X={YY:String(this.$y).slice(-2),YYYY:this.$y,M:T+1,MM:w.s(T+1,2,"0"),MMM:U(i.monthsShort,T,V,3),MMMM:U(V,T),D:this.$D,DD:w.s(this.$D,2,"0"),d:String(this.$W),dd:U(i.weekdaysMin,this.$W,L,2),ddd:U(i.weekdaysShort,this.$W,L,3),dddd:L[this.$W],H:String(b),HH:w.s(b,2,"0"),h:K(1),hh:K(2),a:tt(b,O,!0),A:tt(b,O,!1),m:String(O),mm:w.s(O,2,"0"),s:String(this.$s),ss:w.s(this.$s,2,"0"),SSS:w.s(this.$ms,3,"0"),Z:p};return m.replace(B,function(H,F){return F||X[H]||p.replace(":","")})},c.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},c.diff=function(a,v,i){var m,p=w.p(v),b=D(a),O=(b.utcOffset()-this.utcOffset())*s,T=this-b,L=w.m(this,b);return L=(m={},m[S]=L/12,m[g]=L,m[M]=L/3,m[_]=(T-O)/6048e5,m[f]=(T-O)/864e5,m[d]=T/r,m[o]=T/s,m[u]=T/e,m)[p]||T,i?L:w.a(L)},c.daysInMonth=function(){return this.endOf(g).$D},c.$locale=function(){return C[this.$L]},c.locale=function(a,v){if(!a)return this.$L;var i=this.clone(),m=z(a,v,!0);return m&&(i.$L=m),i},c.clone=function(){return w.w(this.$d,this)},c.toDate=function(){return new Date(this.valueOf())},c.toJSON=function(){return this.isValid()?this.toISOString():null},c.toISOString=function(){return this.$d.toISOString()},c.toString=function(){return this.$d.toUTCString()},h}(),pt=st.prototype;return D.prototype=pt,[["$ms",l],["$s",u],["$m",o],["$H",d],["$W",f],["$M",g],["$y",S],["$D",y]].forEach(function(h){pt[h[1]]=function(c){return this.$g(c,h[0],h[1])}}),D.extend=function(h,c){return h.$i||(h(c,st,D),h.$i=!0),D},D.locale=z,D.isDayjs=A,D.unix=function(h){return D(1e3*h)},D.en=C[R],D.Ls=C,D.p={},D})})(ue);const lt=ut,de={class:"cell"},fe={key:0,class:"progress"},he=G({__name:"table_row",props:{word:null,isSelected:{type:Boolean}},emits:["click"],setup(n,{emit:t}){const e=n,s=()=>{t("click",e.word)};return(r,l)=>(j(),N("tr",{class:ft(["hover",{active:n.isSelected}]),onClick:s},[k("td",null,et(n.word.value),1),k("td",de,[Bt(et(n.word.translation)+" ",1),n.word.isLoadTranslation?(j(),N("progress",fe)):ot("",!0)])],2))}}),ve={class:"table table-zebra w-full p-2"},pe=k("thead",null,[k("tr",null,[k("th",null,"Word"),k("th",null,"Translation")])],-1),me={key:0},_e=k("td",null,null,-1),ge=G({__name:"dictionary_table",props:{words:null,selectedWord:null},emits:["click:word"],setup(n,{emit:t}){const e=r=>{t("click:word",r)},s=(r,l)=>l?lt(r).isSame(lt(l),"day"):!1;return(r,l)=>(j(),N("table",ve,[pe,k("tbody",null,[(j(!0),N(ct,null,Ut(n.words,(u,o)=>{var d,f;return j(),N(ct,{key:u.id},[s(u.dateAdd,(d=n.words[o-1])==null?void 0:d.dateAdd)?ot("",!0):(j(),N("tr",me,[k("th",null,et(W(lt)(u.dateAdd).format("DD.MM.YYYY")),1),_e])),Z(he,{word:u,"is-selected":((f=n.selectedWord)==null?void 0:f.id)===u.id,onClick:e},null,8,["word","is-selected"])],64)}),128))])]))}});var yt;const Et=typeof window<"u",ye=n=>typeof n=="string",Q=()=>{},bt=Et&&((yt=window==null?void 0:window.navigator)==null?void 0:yt.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function Y(n){return typeof n=="function"?n():W(n)}function Pt(n,t){function e(...s){return new Promise((r,l)=>{Promise.resolve(n(()=>t.apply(this,s),{fn:t,thisArg:this,args:s})).then(r).catch(l)})}return e}function be(n,t={}){let e,s,r=Q;const l=o=>{clearTimeout(o),r(),r=Q};return o=>{const d=Y(n),f=Y(t.maxWait);return e&&l(e),d<=0||f!==void 0&&f<=0?(s&&(l(s),s=null),Promise.resolve(o())):new Promise((_,g)=>{r=t.rejectOnCancel?g:_,f&&!s&&(s=setTimeout(()=>{e&&l(e),s=null,_(o())},f)),e=setTimeout(()=>{s&&l(s),s=null,_(o())},d)})}}function we(n,t=!0,e=!0,s=!1){let r=0,l,u=!0,o=Q,d;const f=()=>{l&&(clearTimeout(l),l=void 0,o(),o=Q)};return g=>{const M=Y(n),S=Date.now()-r,y=()=>d=g();return f(),M<=0?(r=Date.now(),y()):(S>M&&(e||!u)?(r=Date.now(),y()):t&&(d=new Promise((x,P)=>{o=s?P:x,l=setTimeout(()=>{r=Date.now(),u=!0,x(y()),f()},Math.max(0,M-S))})),!e&&!l&&(l=setTimeout(()=>u=!0,M)),u=!1,d)}}function $e(n){return n}function ht(n){return Vt()?(Ft(n),!0):!1}function Se(n,t=200,e={}){return Pt(be(t,e),n)}function De(n,t=200,e=!1,s=!0,r=!1){return Pt(we(t,e,s,r),n)}function Rt(n){return typeof n=="function"?q(n):E(n)}function Te(n,t=!0){qt()?Mt(n):t?n():zt(n)}function Oe(n){var t;const e=Y(n);return(t=e==null?void 0:e.$el)!=null?t:e}const At=Et?window:void 0;function dt(...n){let t,e,s,r;if(ye(n[0])||Array.isArray(n[0])?([e,s,r]=n,t=At):[t,e,s,r]=n,!t)return Q;Array.isArray(e)||(e=[e]),Array.isArray(s)||(s=[s]);const l=[],u=()=>{l.forEach(_=>_()),l.length=0},o=(_,g,M,S)=>(_.addEventListener(g,M,S),()=>_.removeEventListener(g,M,S)),d=nt(()=>[Oe(t),Y(r)],([_,g])=>{u(),_&&l.push(...e.flatMap(M=>s.map(S=>o(_,M,S,g))))},{immediate:!0,flush:"post"}),f=()=>{d(),u()};return ht(f),f}function ke(n,t=!1){const e=E(),s=()=>e.value=!!n();return s(),Te(s,t),e}const wt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},$t="__vueuse_ssr_handlers__";wt[$t]=wt[$t]||{};const St=1;function Me(n,t={}){const{throttle:e=0,idle:s=200,onStop:r=Q,onScroll:l=Q,offset:u={left:0,right:0,top:0,bottom:0},eventListenerOptions:o={capture:!1,passive:!0},behavior:d="auto"}=t,f=E(0),_=E(0),g=q({get(){return f.value},set(I){S(I,void 0)}}),M=q({get(){return _.value},set(I){S(void 0,I)}});function S(I,R){var C,A,z;const D=Y(n);D&&((z=D instanceof Document?document.body:D)==null||z.scrollTo({top:(C=Y(R))!=null?C:M.value,left:(A=Y(I))!=null?A:g.value,behavior:Y(d)}))}const y=E(!1),x=mt({left:!0,right:!1,top:!0,bottom:!1}),P=mt({left:!1,right:!1,top:!1,bottom:!1}),B=I=>{y.value&&(y.value=!1,P.left=!1,P.right=!1,P.top=!1,P.bottom=!1,r(I))},at=Se(B,e+s),J=I=>{const R=I.target===document?I.target.documentElement:I.target,C=R.scrollLeft;P.left=C<f.value,P.right=C>_.value,x.left=C<=0+(u.left||0),x.right=C+R.clientWidth>=R.scrollWidth-(u.right||0)-St,f.value=C;let A=R.scrollTop;I.target===document&&!A&&(A=document.body.scrollTop),P.top=A<_.value,P.bottom=A>_.value,x.top=A<=0+(u.top||0),x.bottom=A+R.clientHeight>=R.scrollHeight-(u.bottom||0)-St,_.value=A,y.value=!0,at(I),l(I)};return dt(n,"scroll",e?De(J,e,!0,!1):J,o),dt(n,"scrollend",B,o),{x:g,y:M,isScrolling:y,arrivedState:x,directions:P}}var Dt;(function(n){n.UP="UP",n.RIGHT="RIGHT",n.DOWN="DOWN",n.LEFT="LEFT",n.NONE="NONE"})(Dt||(Dt={}));function Ht(n){const t=window.getComputedStyle(n);if(t.overflowX==="scroll"||t.overflowY==="scroll"||t.overflowX==="auto"&&n.clientHeight<n.scrollHeight||t.overflowY==="auto"&&n.clientWidth<n.scrollWidth)return!0;{const e=n.parentNode;return!e||e.tagName==="BODY"?!1:Ht(e)}}function xe(n){const t=n||window.event,e=t.target;return Ht(e)?!1:t.touches.length>1?!0:(t.preventDefault&&t.preventDefault(),!1)}function We(n,t=!1){const e=E(t);let s=null,r;nt(Rt(n),o=>{if(o){const d=o;r=d.style.overflow,e.value&&(d.style.overflow="hidden")}},{immediate:!0});const l=()=>{const o=Y(n);!o||e.value||(bt&&(s=dt(o,"touchmove",d=>{xe(d)},{passive:!1})),o.style.overflow="hidden",e.value=!0)},u=()=>{const o=Y(n);!o||!e.value||(bt&&(s==null||s()),o.style.overflow=r,e.value=!1)};return ht(u),q({get(){return e.value},set(o){o?l():u()}})}function Ie(n={}){const{interimResults:t=!0,continuous:e=!0,window:s=At}=n,r=Rt(n.lang||"en-US"),l=E(!1),u=E(!1),o=E(""),d=Qt(void 0),f=(x=!l.value)=>{l.value=x},_=()=>{l.value=!0},g=()=>{l.value=!1},M=s&&(s.SpeechRecognition||s.webkitSpeechRecognition),S=ke(()=>M);let y;return S.value&&(y=new M,y.continuous=e,y.interimResults=t,y.lang=W(r),y.onstart=()=>{u.value=!1},nt(r,x=>{y&&!l.value&&(y.lang=x)}),y.onresult=x=>{const P=Array.from(x.results).map(B=>(u.value=B.isFinal,B[0])).map(B=>B.transcript).join("");o.value=P,d.value=void 0},y.onerror=x=>{d.value=x},y.onend=()=>{l.value=!1,y.lang=W(r)},nt(l,()=>{l.value?y.start():y.stop()})),ht(()=>{l.value=!1}),{isSupported:S,isListening:l,isFinal:u,recognition:y,result:o,error:d,toggle:f,start:_,stop:g}}var Ce=Object.defineProperty,Tt=Object.getOwnPropertySymbols,Le=Object.prototype.hasOwnProperty,Ee=Object.prototype.propertyIsEnumerable,Ot=(n,t,e)=>t in n?Ce(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e,Pe=(n,t)=>{for(var e in t||(t={}))Le.call(t,e)&&Ot(n,e,t[e]);if(Tt)for(var e of Tt(t))Ee.call(t,e)&&Ot(n,e,t[e]);return n};const Re={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};Pe({linear:$e},Re);const Ae={key:0,class:"fixed top-0 left-0 w-full h-full z-20 flex justify-center items-center"},He=["onClick"],je={class:"absolute card lg:w-96 w-11/12 bg-base-100 shadow-xl"},Ne={class:"card-body"},Ye={class:"card-title"},Be=G({__name:"record_modal",props:{word:null},emits:["click:background","click:remove"],setup(n,{emit:t}){const e=n,s=We(document.body),r=()=>{t("click:background")},l=()=>{e.word&&t("click:remove",e.word)};return nt(()=>!!e.word,u=>{s.value=u}),(u,o)=>(j(),Gt(Xt,{name:"modal"},{default:Jt(()=>[n.word?(j(),N("div",Ae,[k("div",{class:"bg-neutral/[.4] w-full h-full",onClick:Zt(r,["self"])},null,8,He),k("div",je,[k("div",Ne,[k("h1",Ye,et(n.word.value),1),k("p",null,et(n.word.translation),1),k("div",{class:"card-actions justify-end"},[k("button",{class:"delete-btn btn btn-xs btn-outline btn-error",onClick:l}," удалить ")])])])])):ot("",!0)]),_:1}))}});const vt=(n,t)=>{const e=n.__vccOpts||n;for(const[s,r]of t)e[s]=r;return e},Ue=vt(Be,[["__scopeId","data-v-3a85bd18"]]),Ve=G({__name:"index",setup(n){const t=Lt(),{words:e}=xt(t),{removeWord:s}=t,r=E(),l=d=>{r.value=d},u=()=>{r.value=void 0},o=d=>{s(d.id),u()};return(d,f)=>(j(),N(ct,null,[Z(ge,{words:W(e),"selected-word":r.value,"onClick:word":l},null,8,["words","selected-word"]),Z(W(Ue),{word:r.value,"onClick:background":u,"onClick:remove":o},null,8,["word"])],64))}}),Fe=kt("editor",()=>{const n=Kt(Ct),t=E(""),e=E(!1);async function s(){e.value=!0;const l=t.value;l&&(await(n==null?void 0:n.addWord({value:l})),r(),e.value=!1)}function r(){t.value=""}return{value:t,isLoading:e,submitWord:s}}),qe=({element:n=document,offset:t}=ze)=>{const{directions:e,y:s,arrivedState:r}=Me(n,{behavior:"smooth"}),{bottom:l,top:u}=_t(r),{top:o,bottom:d}=_t(e),f=E(!1);return Wt(()=>{o.value||l.value||u.value?f.value=!1:s.value>((t==null?void 0:t.value)??0)&&d.value&&(f.value=!0)},{flush:"post"}),{isHidden:f}},ze={element:document},Qe=["src"],Ge=G({__name:"speech",emits:["update:modelValue"],setup(n,{emit:t}){const{isSupported:e,isListening:s,isFinal:r,result:l,start:u,stop:o}=Ie(),d=q(()=>`/focu/img/icons/${s.value?"voice_recording":"mic"}.svg`),f=q(()=>({"btn-active":s.value})),_=()=>{s.value?o():u()};return Wt(()=>{r.value&&(t("update:modelValue",l.value),o())}),(g,M)=>W(e)?(j(),N("button",{key:0,class:ft(["btn btn-success btn-square",W(f)]),onClick:_},[k("img",{src:W(d),alt:"toggle speech recognize",width:"32",height:"32"},null,8,Qe)],2)):ot("",!0)}}),Je=["disabled"],Xe=G({__name:"editor",setup(n,{expose:t}){const e=E(),s=Fe(),{value:r,isLoading:l}=xt(s),{submitWord:u}=s,o=q(()=>{var f;return((f=e.value)==null?void 0:f.offsetHeight)||0}),{isHidden:d}=qe({offset:o});return t({elementRef:e}),(f,_)=>(j(),N("div",{ref_key:"elementRef",ref:e,class:ft(["root navbar bg-base-100 rounded-xl z-20 fixed -bottom-28 gap-x-2",{"bottom-1":!W(d)}])},[te(k("input",{"onUpdate:modelValue":_[0]||(_[0]=g=>gt(r)?r.value=g:null),type:"text",class:"input input-bordered input-success flex-1",placeholder:"Type something...",disabled:W(l),onKeypress:_[1]||(_[1]=ne((...g)=>W(u)&&W(u)(...g),["enter"]))},null,40,Je),[[ee,W(r)]]),Z(Ge,{modelValue:W(r),"onUpdate:modelValue":_[2]||(_[2]=g=>gt(r)?r.value=g:null),disabled:W(l)},null,8,["modelValue","disabled"])],2))}});const Ze=vt(Xe,[["__scopeId","data-v-12ed4a88"]]),Ke={class:"main bg-base-200"},tn={class:"relative container mx-auto"},en=G({__name:"index",setup(n){const t=Lt();re(Ct,t);const e=E(),s=q(()=>{var r;return{"padding-bottom":`calc(${(r=e.value)==null?void 0:r.elementRef.offsetHeight}px + var(--spacing))`}});return Mt(()=>{t.fetchWords()}),(r,l)=>(j(),N("main",Ke,[k("div",tn,[k("section",{class:"p-2",style:se(W(s))},[Z(W(Ve))],4),Z(W(Ze),{ref_key:"editorRef",ref:e},null,512)])]))}});const rn=vt(en,[["__scopeId","data-v-6cbfa956"]]);export{rn as default};
