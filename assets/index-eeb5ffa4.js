var Yt=Object.defineProperty;var Ut=(n,t,e)=>t in n?Yt(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var D=(n,t,e)=>(Ut(n,typeof t!="symbol"?t+"":t,e),e);import{d as Wt,r as L,c as Vt,a as z,o as C,b as A,e as $,t as st,n as lt,F as dt,f as Ft,u as k,g as K,h as Q,i as ft,j as qt,k as zt,l as q,m as Zt,p as xt,q as Qt,w as ot,s as Gt,v as bt,x as ht,y as Ct,T as Jt,z as vt,A as Xt,B as It,C as Kt,D as yt,E as Lt,G as te,H as ee,I as ne,J as se,K as oe}from"./index-94eb64a9.js";const Et={"en-ru":{key:"en-ru",source:"en",target:"ru"}};class re{constructor({host:t}){D(this,"_host");D(this,"_headers",{"Content-Type":"application/json"});D(this,"get",async t=>this.makeRequest(t,"GET"));D(this,"post",async(t,{body:e})=>this.makeRequest(t,"POST",{body:e}));this._host=t}get host(){return this._host}prepareBody(t){return t?{body:JSON.stringify(t)}:{}}async makeRequest(t,e,s){const o=new URL(t,this.host),r=await globalThis.fetch(o,{method:e,...this.prepareBody(s==null?void 0:s.body),headers:{...this._headers}});if(r.ok)return await r.json();{const i=await r.text();return Promise.reject(new Error(`[Fetcher][${o.toString()}]: `+i))}}}class ae{constructor(t){D(this,"fetcher");D(this,"langPair");this.langPair=t,this.fetcher=new re({host:"https://translate.argosopentech.com/"})}getTranslation(t){return this.fetcher.post("/translate",{body:{q:t,source:this.langPair.source,target:this.langPair.target}}).then(e=>e.translatedText)}}class ie{constructor(t,e,s){D(this,"_database");D(this,"name");D(this,"version");D(this,"storeKeys");D(this,"handleOpen",t=>{this._database=t.result});D(this,"handleUpgrade",(t,e)=>{switch(e.oldVersion){default:{this.create(t);break}}});D(this,"create",t=>{this.database||(this._database=t.result),this.storeKeys.forEach(e=>{this.database.createObjectStore(e,{keyPath:"id",autoIncrement:!0})})});D(this,"makeGetAllTransaction",async t=>(await this.initDb(),new Promise((e,s)=>{const i=this.database.transaction(t,"readonly").objectStore(t).getAll();i.onsuccess=()=>e(i.result),i.onerror=()=>s(`[LocalDatabase][${t}]: Unable to get all`)})));D(this,"makeAddTransaction",async(t,e)=>(await this.initDb(),new Promise((s,o)=>{const c=this.database.transaction(t,"readwrite").objectStore(t).add(e);c.onsuccess=()=>s({...e,id:c.result}),c.onerror=()=>o(`[LocalDatabase][${t}]: Unable to add ${e}`)})));D(this,"makeDeleteTransaction",async(t,e)=>(await this.initDb(),new Promise((s,o)=>{const c=this.database.transaction(t,"readwrite").objectStore(t).delete(e);c.onsuccess=()=>s(e),c.onerror=()=>o(`[LocalDatabase][${t}]: Unable to delete ${e}`)})));D(this,"makeEditTransaction",async(t,e)=>(await this.initDb(),new Promise((s,o)=>{const c=this.database.transaction(t,"readwrite").objectStore(t).put(e);c.onsuccess=()=>s({...e,id:c.result}),c.onerror=()=>o(`[LocalDatabase][${t}]: Unable to edit ${c.result}`)})));this.name=t,this.version=e,this.storeKeys=s}get database(){return this._database}initDb(){return new Promise((t,e)=>{if(this.database)return t("Local database already initialized");const s=globalThis.indexedDB.open(this.name,this.version);s.onsuccess=()=>{this.handleOpen(s),t("Local database opened")},s.onupgradeneeded=o=>{this.handleUpgrade(s,o),t("Local database upgraded")},s.onerror=e})}}class le{constructor(t){D(this,"dbInstance");D(this,"dbName","dictionaries");D(this,"dbVersion",1);D(this,"dbStoreKey");this.dbStoreKey=t,this.dbInstance=new ie(this.dbName,this.dbVersion,Object.keys(Et)),this.dbInstance.initDb()}getDictionary(){return this.dbInstance.makeGetAllTransaction(this.dbStoreKey)}addWord(t){return this.dbInstance.makeAddTransaction(this.dbStoreKey,t)}deleteWord(t){return this.dbInstance.makeDeleteTransaction(this.dbStoreKey,t)}editWord(t){return this.dbInstance.makeEditTransaction(this.dbStoreKey,t)}}class ce{constructor(t="en-ru"){D(this,"localService");D(this,"translationService");D(this,"langPair");this.langPair=Et[t],this.localService=new le(t),this.translationService=new ae(this.langPair)}fetchTranslation(t){return this.translationService.getTranslation(t.value)}getAll(){return this.localService.getDictionary()}addWord(t){return this.localService.addWord({...t,translation:"",dateAdd:Date.now()})}async updateWordTranslation(t){const e=await this.fetchTranslation(t);return this.localService.editWord({...t,translation:e})}modifyWord(t){return this.localService.editWord(t)}deleteWord(t){return this.localService.deleteWord(t)}}const Pt=Symbol("dictionary-store"),Rt=Wt("dictionary",()=>{const n=new ce,t=L([]),e=d=>{t.value=t.value.map(f=>d.id===f.id?d:f)},s=async({value:d})=>{const f={value:d},v=await n.addWord(f);t.value=[v,...t.value],r(v)},o=d=>n.fetchTranslation(d),r=async d=>{e({...d,isLoadTranslation:!0});let f=d;try{f=await n.updateWordTranslation(d)}finally{e({...f,isLoadTranslation:!1})}};return{words:t,addWord:s,removeWord:async d=>{const f=await n.deleteWord(d);t.value=t.value.filter(({id:v})=>v!==f)},fetchWords:async()=>{t.value=await n.getAll().then(d=>d.reverse())},updateWordTranslation:r,modifyWord:async d=>{e({...d,isLoadTranslation:!0});let f=d;try{f=await n.modifyWord(d)}finally{e({...f,isLoadTranslation:!1})}},getWordTranslation:o}});var mt={},ue={get exports(){return mt},set exports(n){mt=n}};(function(n,t){(function(e,s){n.exports=s()})(Vt,function(){var e=1e3,s=6e4,o=36e5,r="millisecond",i="second",c="minute",h="hour",d="day",f="week",v="month",b="quarter",w="year",y="date",O="Invalid Date",I=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,Y=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,tt={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(m){var u=["th","st","nd","rd"],a=m%100;return"["+m+(u[(a-20)%10]||u[a]||u[0])+"]"}},J=function(m,u,a){var p=String(m);return!p||p.length>=u?m:""+Array(u+1-p.length).join(a)+m},E={s:J,z:function(m){var u=-m.utcOffset(),a=Math.abs(u),p=Math.floor(a/60),l=a%60;return(u<=0?"+":"-")+J(p,2,"0")+":"+J(l,2,"0")},m:function m(u,a){if(u.date()<a.date())return-m(a,u);var p=12*(a.year()-u.year())+(a.month()-u.month()),l=u.clone().add(p,v),g=a-l<0,_=u.clone().add(p+(g?-1:1),v);return+(-(p+(a-l)/(g?l-_:_-l))||0)},a:function(m){return m<0?Math.ceil(m)||0:Math.floor(m)},p:function(m){return{M:v,y:w,w:f,d,D:y,h,m:c,s:i,ms:r,Q:b}[m]||String(m||"").toLowerCase().replace(/s$/,"")},u:function(m){return m===void 0}},H="en",P={};P[H]=tt;var j=function(m){return m instanceof at},Z=function m(u,a,p){var l;if(!u)return H;if(typeof u=="string"){var g=u.toLowerCase();P[g]&&(l=g),a&&(P[g]=a,l=g);var _=u.split("-");if(!l&&_.length>1)return m(_[0])}else{var S=u.name;P[S]=u,l=S}return!p&&l&&(H=l),l||!p&&H},M=function(m,u){if(j(m))return m.clone();var a=typeof u=="object"?u:{};return a.date=m,a.args=arguments,new at(a)},T=E;T.l=Z,T.i=j,T.w=function(m,u){return M(m,{locale:u.$L,utc:u.$u,x:u.$x,$offset:u.$offset})};var at=function(){function m(a){this.$L=Z(a.locale,null,!0),this.parse(a)}var u=m.prototype;return u.parse=function(a){this.$d=function(p){var l=p.date,g=p.utc;if(l===null)return new Date(NaN);if(T.u(l))return new Date;if(l instanceof Date)return new Date(l);if(typeof l=="string"&&!/Z$/i.test(l)){var _=l.match(I);if(_){var S=_[2]-1||0,x=(_[7]||"0").substring(0,3);return g?new Date(Date.UTC(_[1],S,_[3]||1,_[4]||0,_[5]||0,_[6]||0,x)):new Date(_[1],S,_[3]||1,_[4]||0,_[5]||0,_[6]||0,x)}}return new Date(l)}(a),this.$x=a.x||{},this.init()},u.init=function(){var a=this.$d;this.$y=a.getFullYear(),this.$M=a.getMonth(),this.$D=a.getDate(),this.$W=a.getDay(),this.$H=a.getHours(),this.$m=a.getMinutes(),this.$s=a.getSeconds(),this.$ms=a.getMilliseconds()},u.$utils=function(){return T},u.isValid=function(){return this.$d.toString()!==O},u.isSame=function(a,p){var l=M(a);return this.startOf(p)<=l&&l<=this.endOf(p)},u.isAfter=function(a,p){return M(a)<this.startOf(p)},u.isBefore=function(a,p){return this.endOf(p)<M(a)},u.$g=function(a,p,l){return T.u(a)?this[p]:this.set(l,a)},u.unix=function(){return Math.floor(this.valueOf()/1e3)},u.valueOf=function(){return this.$d.getTime()},u.startOf=function(a,p){var l=this,g=!!T.u(p)||p,_=T.p(a),S=function(X,B){var F=T.w(l.$u?Date.UTC(l.$y,B,X):new Date(l.$y,B,X),l);return g?F:F.endOf(d)},x=function(X,B){return T.w(l.toDate()[X].apply(l.toDate("s"),(g?[0,0,0,0]:[23,59,59,999]).slice(B)),l)},W=this.$W,R=this.$M,V=this.$D,U="set"+(this.$u?"UTC":"");switch(_){case w:return g?S(1,0):S(31,11);case v:return g?S(1,R):S(0,R+1);case f:var et=this.$locale().weekStart||0,nt=(W<et?W+7:W)-et;return S(g?V-nt:V+(6-nt),R);case d:case y:return x(U+"Hours",0);case h:return x(U+"Minutes",1);case c:return x(U+"Seconds",2);case i:return x(U+"Milliseconds",3);default:return this.clone()}},u.endOf=function(a){return this.startOf(a,!1)},u.$set=function(a,p){var l,g=T.p(a),_="set"+(this.$u?"UTC":""),S=(l={},l[d]=_+"Date",l[y]=_+"Date",l[v]=_+"Month",l[w]=_+"FullYear",l[h]=_+"Hours",l[c]=_+"Minutes",l[i]=_+"Seconds",l[r]=_+"Milliseconds",l)[g],x=g===d?this.$D+(p-this.$W):p;if(g===v||g===w){var W=this.clone().set(y,1);W.$d[S](x),W.init(),this.$d=W.set(y,Math.min(this.$D,W.daysInMonth())).$d}else S&&this.$d[S](x);return this.init(),this},u.set=function(a,p){return this.clone().$set(a,p)},u.get=function(a){return this[T.p(a)]()},u.add=function(a,p){var l,g=this;a=Number(a);var _=T.p(p),S=function(R){var V=M(g);return T.w(V.date(V.date()+Math.round(R*a)),g)};if(_===v)return this.set(v,this.$M+a);if(_===w)return this.set(w,this.$y+a);if(_===d)return S(1);if(_===f)return S(7);var x=(l={},l[c]=s,l[h]=o,l[i]=e,l)[_]||1,W=this.$d.getTime()+a*x;return T.w(W,this)},u.subtract=function(a,p){return this.add(-1*a,p)},u.format=function(a){var p=this,l=this.$locale();if(!this.isValid())return l.invalidDate||O;var g=a||"YYYY-MM-DDTHH:mm:ssZ",_=T.z(this),S=this.$H,x=this.$m,W=this.$M,R=l.weekdays,V=l.months,U=function(B,F,ct,it){return B&&(B[F]||B(p,g))||ct[F].slice(0,it)},et=function(B){return T.s(S%12||12,B,"0")},nt=l.meridiem||function(B,F,ct){var it=B<12?"AM":"PM";return ct?it.toLowerCase():it},X={YY:String(this.$y).slice(-2),YYYY:this.$y,M:W+1,MM:T.s(W+1,2,"0"),MMM:U(l.monthsShort,W,V,3),MMMM:U(V,W),D:this.$D,DD:T.s(this.$D,2,"0"),d:String(this.$W),dd:U(l.weekdaysMin,this.$W,R,2),ddd:U(l.weekdaysShort,this.$W,R,3),dddd:R[this.$W],H:String(S),HH:T.s(S,2,"0"),h:et(1),hh:et(2),a:nt(S,x,!0),A:nt(S,x,!1),m:String(x),mm:T.s(x,2,"0"),s:String(this.$s),ss:T.s(this.$s,2,"0"),SSS:T.s(this.$ms,3,"0"),Z:_};return g.replace(Y,function(B,F){return F||X[B]||_.replace(":","")})},u.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},u.diff=function(a,p,l){var g,_=T.p(p),S=M(a),x=(S.utcOffset()-this.utcOffset())*s,W=this-S,R=T.m(this,S);return R=(g={},g[w]=R/12,g[v]=R,g[b]=R/3,g[f]=(W-x)/6048e5,g[d]=(W-x)/864e5,g[h]=W/o,g[c]=W/s,g[i]=W/e,g)[_]||W,l?R:T.a(R)},u.daysInMonth=function(){return this.endOf(v).$D},u.$locale=function(){return P[this.$L]},u.locale=function(a,p){if(!a)return this.$L;var l=this.clone(),g=Z(a,p,!0);return g&&(l.$L=g),l},u.clone=function(){return T.w(this.$d,this)},u.toDate=function(){return new Date(this.valueOf())},u.toJSON=function(){return this.isValid()?this.toISOString():null},u.toISOString=function(){return this.$d.toISOString()},u.toString=function(){return this.$d.toUTCString()},m}(),gt=at.prototype;return M.prototype=gt,[["$ms",r],["$s",i],["$m",c],["$H",h],["$W",d],["$M",v],["$y",w],["$D",y]].forEach(function(m){gt[m[1]]=function(u){return this.$g(u,m[0],m[1])}}),M.extend=function(m,u){return m.$i||(m(u,at,M),m.$i=!0),M},M.locale=Z,M.isDayjs=j,M.unix=function(m){return M(1e3*m)},M.en=P[H],M.Ls=P,M.p={},M})})(ue);const ut=mt,de={class:"cell"},fe={key:0},he={key:1,class:"progress"},ve=z({__name:"table_row",props:{word:null,isSelected:{type:Boolean}},emits:["click"],setup(n,{emit:t}){const e=n,s=()=>{t("click",e.word)};return(o,r)=>(C(),A("tr",{class:lt(["hover",{active:n.isSelected}]),onClick:s},[$("td",null,st(n.word.value),1),$("td",de,[n.word.isLoadTranslation?(C(),A("progress",he)):(C(),A("span",fe,st(n.word.translation),1))])],2))}}),me={class:"table table-zebra w-full p-2"},pe=$("thead",null,[$("tr",null,[$("th",null,"Word"),$("th",null,"Translation")])],-1),_e={key:0},ge=$("td",null,null,-1),be=z({__name:"dictionary_table",props:{words:null,selectedWord:null},emits:["click:word"],setup(n,{emit:t}){const e=o=>{t("click:word",o)},s=(o,r)=>r?ut(o).isSame(ut(r),"day"):!1;return(o,r)=>(C(),A("table",me,[pe,$("tbody",null,[(C(!0),A(dt,null,Ft(n.words,(i,c)=>{var h,d;return C(),A(dt,{key:i.id},[s(i.dateAdd,(h=n.words[c-1])==null?void 0:h.dateAdd)?K("",!0):(C(),A("tr",_e,[$("th",null,st(k(ut)(i.dateAdd).format("DD.MM.YYYY")),1),ge])),Q(ve,{word:i,"is-selected":((d=n.selectedWord)==null?void 0:d.id)===i.id,onClick:e},null,8,["word","is-selected"])],64)}),128))])]))}});var wt;const At=typeof window<"u",ye=n=>typeof n=="string",G=()=>{},$t=At&&((wt=window==null?void 0:window.navigator)==null?void 0:wt.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function N(n){return typeof n=="function"?n():k(n)}function Ht(n,t){function e(...s){return new Promise((o,r)=>{Promise.resolve(n(()=>t.apply(this,s),{fn:t,thisArg:this,args:s})).then(o).catch(r)})}return e}function we(n,t={}){let e,s,o=G;const r=c=>{clearTimeout(c),o(),o=G};return c=>{const h=N(n),d=N(t.maxWait);return e&&r(e),h<=0||d!==void 0&&d<=0?(s&&(r(s),s=null),Promise.resolve(c())):new Promise((f,v)=>{o=t.rejectOnCancel?v:f,d&&!s&&(s=setTimeout(()=>{e&&r(e),s=null,f(c())},d)),e=setTimeout(()=>{s&&r(s),s=null,f(c())},h)})}}function $e(n,t=!0,e=!0,s=!1){let o=0,r,i=!0,c=G,h;const d=()=>{r&&(clearTimeout(r),r=void 0,c(),c=G)};return v=>{const b=N(n),w=Date.now()-o,y=()=>h=v();return d(),b<=0?(o=Date.now(),y()):(w>b&&(e||!i)?(o=Date.now(),y()):t&&(h=new Promise((O,I)=>{c=s?I:O,r=setTimeout(()=>{o=Date.now(),i=!0,O(y()),d()},Math.max(0,b-w))})),!e&&!r&&(r=setTimeout(()=>i=!0,b)),i=!1,h)}}function Se(n){return n}function _t(n){return qt()?(zt(n),!0):!1}function Te(n,t=200,e={}){return Ht(we(t,e),n)}function ke(n,t=200,e=!1,s=!0,o=!1){return Ht($e(t,e,s,o),n)}function jt(n){return typeof n=="function"?q(n):L(n)}function De(n,t=!0){Zt()?xt(n):t?n():Qt(n)}function Oe(n=!1,t={}){const{truthyValue:e=!0,falsyValue:s=!1}=t,o=ft(n),r=L(n);function i(c){if(arguments.length)return r.value=c,r.value;{const h=N(e);return r.value=r.value===h?N(s):h,r.value}}return o?i:[r,i]}function Me(n){var t;const e=N(n);return(t=e==null?void 0:e.$el)!=null?t:e}const Bt=At?window:void 0;function pt(...n){let t,e,s,o;if(ye(n[0])||Array.isArray(n[0])?([e,s,o]=n,t=Bt):[t,e,s,o]=n,!t)return G;Array.isArray(e)||(e=[e]),Array.isArray(s)||(s=[s]);const r=[],i=()=>{r.forEach(f=>f()),r.length=0},c=(f,v,b,w)=>(f.addEventListener(v,b,w),()=>f.removeEventListener(v,b,w)),h=ot(()=>[Me(t),N(o)],([f,v])=>{i(),f&&r.push(...e.flatMap(b=>s.map(w=>c(f,b,w,v))))},{immediate:!0,flush:"post"}),d=()=>{h(),i()};return _t(d),d}function We(n,t=!1){const e=L(),s=()=>e.value=!!n();return s(),De(s,t),e}const St=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Tt="__vueuse_ssr_handlers__";St[Tt]=St[Tt]||{};const kt=1;function xe(n,t={}){const{throttle:e=0,idle:s=200,onStop:o=G,onScroll:r=G,offset:i={left:0,right:0,top:0,bottom:0},eventListenerOptions:c={capture:!1,passive:!0},behavior:h="auto"}=t,d=L(0),f=L(0),v=q({get(){return d.value},set(E){w(E,void 0)}}),b=q({get(){return f.value},set(E){w(void 0,E)}});function w(E,H){var P,j,Z;const M=N(n);M&&((Z=M instanceof Document?document.body:M)==null||Z.scrollTo({top:(P=N(H))!=null?P:b.value,left:(j=N(E))!=null?j:v.value,behavior:N(h)}))}const y=L(!1),O=bt({left:!0,right:!1,top:!0,bottom:!1}),I=bt({left:!1,right:!1,top:!1,bottom:!1}),Y=E=>{y.value&&(y.value=!1,I.left=!1,I.right=!1,I.top=!1,I.bottom=!1,o(E))},tt=Te(Y,e+s),J=E=>{const H=E.target===document?E.target.documentElement:E.target,P=H.scrollLeft;I.left=P<d.value,I.right=P>f.value,O.left=P<=0+(i.left||0),O.right=P+H.clientWidth>=H.scrollWidth-(i.right||0)-kt,d.value=P;let j=H.scrollTop;E.target===document&&!j&&(j=document.body.scrollTop),I.top=j<f.value,I.bottom=j>f.value,O.top=j<=0+(i.top||0),O.bottom=j+H.clientHeight>=H.scrollHeight-(i.bottom||0)-kt,f.value=j,y.value=!0,tt(E),r(E)};return pt(n,"scroll",e?ke(J,e,!0,!1):J,c),pt(n,"scrollend",Y,c),{x:v,y:b,isScrolling:y,arrivedState:O,directions:I}}var Dt;(function(n){n.UP="UP",n.RIGHT="RIGHT",n.DOWN="DOWN",n.LEFT="LEFT",n.NONE="NONE"})(Dt||(Dt={}));function Nt(n){const t=window.getComputedStyle(n);if(t.overflowX==="scroll"||t.overflowY==="scroll"||t.overflowX==="auto"&&n.clientHeight<n.scrollHeight||t.overflowY==="auto"&&n.clientWidth<n.scrollWidth)return!0;{const e=n.parentNode;return!e||e.tagName==="BODY"?!1:Nt(e)}}function Ce(n){const t=n||window.event,e=t.target;return Nt(e)?!1:t.touches.length>1?!0:(t.preventDefault&&t.preventDefault(),!1)}function Ie(n,t=!1){const e=L(t);let s=null,o;ot(jt(n),c=>{if(c){const h=c;o=h.style.overflow,e.value&&(h.style.overflow="hidden")}},{immediate:!0});const r=()=>{const c=N(n);!c||e.value||($t&&(s=pt(c,"touchmove",h=>{Ce(h)},{passive:!1})),c.style.overflow="hidden",e.value=!0)},i=()=>{const c=N(n);!c||!e.value||($t&&(s==null||s()),c.style.overflow=o,e.value=!1)};return _t(i),q({get(){return e.value},set(c){c?r():i()}})}function Le(n={}){const{interimResults:t=!0,continuous:e=!0,window:s=Bt}=n,o=jt(n.lang||"en-US"),r=L(!1),i=L(!1),c=L(""),h=Gt(void 0),d=(O=!r.value)=>{r.value=O},f=()=>{r.value=!0},v=()=>{r.value=!1},b=s&&(s.SpeechRecognition||s.webkitSpeechRecognition),w=We(()=>b);let y;return w.value&&(y=new b,y.continuous=e,y.interimResults=t,y.lang=k(o),y.onstart=()=>{i.value=!1},ot(o,O=>{y&&!r.value&&(y.lang=O)}),y.onresult=O=>{const I=Array.from(O.results).map(Y=>(i.value=Y.isFinal,Y[0])).map(Y=>Y.transcript).join("");c.value=I,h.value=void 0},y.onerror=O=>{h.value=O},y.onend=()=>{r.value=!1,y.lang=k(o)},ot(r,()=>{r.value?y.start():y.stop()})),_t(()=>{r.value=!1}),{isSupported:w,isListening:r,isFinal:i,recognition:y,result:c,error:h,toggle:d,start:f,stop:v}}var Ee=Object.defineProperty,Ot=Object.getOwnPropertySymbols,Pe=Object.prototype.hasOwnProperty,Re=Object.prototype.propertyIsEnumerable,Mt=(n,t,e)=>t in n?Ee(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e,Ae=(n,t)=>{for(var e in t||(t={}))Pe.call(t,e)&&Mt(n,e,t[e]);if(Ot)for(var e of Ot(t))Re.call(t,e)&&Mt(n,e,t[e]);return n};const He={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};Ae({linear:Se},He);const je={key:0,class:"fixed top-0 left-0 w-full h-full z-30 flex justify-center items-center"},Be=["onClick"],Ne={class:"absolute card lg:w-96 w-11/12 bg-base-100 shadow-xl"},Ye=z({__name:"modal",props:{isOpen:{type:Boolean}},emits:["click:background"],setup(n,{emit:t}){const e=n,s=Ie(document.body),o=()=>{t("click:background")};return ot(()=>e.isOpen,r=>{s.value=r}),(r,i)=>(C(),ht(Jt,{name:"modal"},{default:Ct(()=>[n.isOpen?(C(),A("div",je,[$("div",{class:"bg-neutral/[.4] w-full h-full",onClick:vt(o,["self"])},null,8,Be),$("div",Ne,[Xt(r.$slots,"default",{},void 0,!0)])])):K("",!0)]),_:3}))}});const rt=(n,t)=>{const e=n.__vccOpts||n;for(const[s,o]of t)e[s]=o;return e},Ue=rt(Ye,[["__scopeId","data-v-1b4d69e4"]]),Ve={},Fe={xmlns:"http://www.w3.org/2000/svg",height:"100%",width:"100%",viewBox:"0 96 960 960"},qe=$("path",{class:"fill-inherit",d:"m361 757 119-121 120 121 47-48-119-121 119-121-47-48-120 121-119-121-48 48 120 121-120 121 48 48ZM261 936q-24 0-42-18t-18-42V306h-41v-60h188v-30h264v30h188v60h-41v570q0 24-18 42t-42 18H261Zm438-630H261v570h438V306Zm-438 0v570-570Z"},null,-1),ze=[qe];function Ze(n,t){return C(),A("svg",Fe,ze)}const Qe=rt(Ve,[["render",Ze]]),Ge={},Je={xmlns:"http://www.w3.org/2000/svg",height:"100%",viewBox:"0 96 960 960",width:"100%"},Xe=$("path",{class:"fill-inherit",d:"m475 976 181-480h82l186 480h-87l-41-126H604l-47 126h-82Zm151-196h142l-70-194h-2l-70 194Zm-466 76-55-55 204-204q-38-44-67.5-88.5T190 416h87q17 33 37.5 62.5T361 539q45-47 75-97.5T487 336H40v-80h280v-80h80v80h280v80H567q-22 69-58.5 135.5T419 598l98 99-30 81-127-122-200 200Z"},null,-1),Ke=[Xe];function tn(n,t){return C(),A("svg",Je,Ke)}const en=rt(Ge,[["render",tn]]),nn={key:0,class:"card-body"},sn={class:"card-title"},on={class:"card-actions justify-end mt-2"},rn=["onSubmit"],an=["value"],ln={class:"form-control"},cn={class:"input-group"},un=["value"],dn=["disabled","onClick"],fn={class:"card-actions justify-end mt-2"},hn=$("button",{class:"btn btn-sm btn-outline btn-success",type:"submit"}," сохранить ",-1),vn=z({__name:"record_modal",props:{word:null},emits:["click:close","click:remove","click:save","click:update-translation"],setup(n,{emit:t}){const e=n,[s,o]=Oe(!1),r=()=>{o(!1),t("click:close")},i=()=>{e.word&&t("click:remove",e.word)},c=d=>{var b,w;if(!e.word)return;const f=new FormData(d.target),v={...e.word,value:((b=f.get("value"))==null?void 0:b.toString())??"",translation:((w=f.get("translation"))==null?void 0:w.toString())??""};t("click:save",v),o(!1)},h=()=>{e.word&&t("click:update-translation",e.word)};return(d,f)=>(C(),ht(k(Ue),{"is-open":!!n.word,"onClick:background":r},{default:Ct(()=>{var v,b,w,y,O,I,Y;return[k(s)?K("",!0):(C(),A("div",nn,[$("h1",sn,st((v=n.word)==null?void 0:v.value),1),$("p",null,st((b=n.word)==null?void 0:b.translation),1),$("div",on,[$("button",{class:"btn btn-sm btn-outline btn-error fill-error hover:fill-info-content",onClick:i},[Q(k(Qe),{class:"w-5 h-5"})]),$("button",{class:"btn btn-sm btn-outline btn-info",onClick:f[0]||(f[0]=tt=>k(o)(!0))}," редактировать ")])])),k(s)?(C(),A("form",{key:1,class:"card-body gap-y-4",onSubmit:vt(c,["prevent"])},[$("input",{class:"input input-sm input-bordered input-info",name:"value",value:(w=n.word)==null?void 0:w.value},null,8,an),$("div",ln,[$("div",cn,[$("input",{class:"input input-sm input-bordered input-info w-full",name:"translation",value:(y=n.word)==null?void 0:y.translation},null,8,un),$("button",{class:lt(["btn btn-sm btn-square fill-info-content hover:fill-info",{loading:(O=n.word)==null?void 0:O.isLoadTranslation}]),disabled:(I=n.word)==null?void 0:I.isLoadTranslation,onClick:vt(h,["prevent"])},[(Y=n.word)!=null&&Y.isLoadTranslation?K("",!0):(C(),ht(k(en),{key:0,class:"w-4 h-4"}))],10,dn)])]),$("div",fn,[$("button",{class:"btn btn-sm btn-outline btn-error",onClick:f[1]||(f[1]=tt=>k(o)(!1))}," отмена "),hn])],40,rn)):K("",!0)]}),_:1},8,["is-open"]))}}),mn=z({__name:"index",setup(n){const t=Rt(),{words:e}=It(t),{removeWord:s,modifyWord:o,getWordTranslation:r}=t,i=L(),c=b=>{i.value=b},h=()=>{i.value=void 0},d=b=>{s(b.id),h()},f=b=>{o(b),h()},v=b=>{i.value&&(i.value={...i.value,isLoadTranslation:!0},r(b).then(w=>{i.value&&(i.value={...i.value,translation:w,isLoadTranslation:!1})}).finally(()=>{i.value&&(i.value={...i.value,isLoadTranslation:!1})}))};return(b,w)=>(C(),A(dt,null,[Q(be,{words:k(e),"selected-word":i.value,"onClick:word":c},null,8,["words","selected-word"]),Q(k(vn),{word:i.value,"onClick:close":h,"onClick:remove":d,"onClick:save":f,"onClick:updateTranslation":v},null,8,["word"])],64))}}),pn=Wt("editor",()=>{const n=Kt(Pt),t=L(""),e=L(!1);async function s(){e.value=!0;const r=t.value;r&&(await(n==null?void 0:n.addWord({value:r})),o(),e.value=!1)}function o(){t.value=""}return{value:t,isLoading:e,submitWord:s}}),_n=({element:n=document,offset:t}=gn)=>{const{directions:e,y:s,arrivedState:o}=xe(n,{behavior:"smooth"}),{bottom:r,top:i}=yt(o),{top:c,bottom:h}=yt(e),d=L(!1);return Lt(()=>{c.value||r.value||i.value?d.value=!1:s.value>((t==null?void 0:t.value)??0)&&h.value&&(d.value=!0)},{flush:"post"}),{isHidden:d}},gn={element:document},bn=["src"],yn=z({__name:"speech",emits:["update:modelValue"],setup(n,{emit:t}){const{isSupported:e,isListening:s,isFinal:o,result:r,start:i,stop:c}=Le(),h=q(()=>`/focu/img/icons/${s.value?"voice_recording":"mic"}.svg`),d=q(()=>({"btn-active":s.value})),f=()=>{s.value?c():i()};return Lt(()=>{o.value&&(t("update:modelValue",r.value),c())}),(v,b)=>k(e)?(C(),A("button",{key:0,class:lt(["btn btn-success btn-square",k(d)]),onClick:f},[$("img",{src:k(h),alt:"toggle speech recognize",width:"32",height:"32"},null,8,bn)],2)):K("",!0)}}),wn=["disabled"],$n=z({__name:"editor",setup(n,{expose:t}){const e=L(),s=pn(),{value:o,isLoading:r}=It(s),{submitWord:i}=s,c=q(()=>{var d;return((d=e.value)==null?void 0:d.offsetHeight)||0}),{isHidden:h}=_n({offset:c});return t({elementRef:e}),(d,f)=>(C(),A("div",{ref_key:"elementRef",ref:e,class:lt(["root navbar bg-base-100 rounded-xl z-20 fixed -bottom-28 gap-x-2",{"bottom-1":!k(h)}])},[te($("input",{"onUpdate:modelValue":f[0]||(f[0]=v=>ft(o)?o.value=v:null),type:"text",autocomplete:"off",class:"input input-bordered input-success flex-1",placeholder:"Type something...",disabled:k(r),onKeypress:f[1]||(f[1]=ne((...v)=>k(i)&&k(i)(...v),["enter"]))},null,40,wn),[[ee,k(o)]]),Q(yn,{modelValue:k(o),"onUpdate:modelValue":f[2]||(f[2]=v=>ft(o)?o.value=v:null),disabled:k(r)},null,8,["modelValue","disabled"])],2))}});const Sn=rt($n,[["__scopeId","data-v-84bd1967"]]),Tn={class:"main h-full bg-base-200"},kn={class:"relative container mx-auto"},Dn=z({__name:"index",setup(n){const t=Rt();oe(Pt,t);const e=L(),s=q(()=>{var o;return{"padding-bottom":`calc(${(o=e.value)==null?void 0:o.elementRef.offsetHeight}px + var(--spacing))`}});return xt(()=>{t.fetchWords()}),(o,r)=>(C(),A("main",Tn,[$("div",kn,[$("section",{class:"p-2",style:se(k(s))},[Q(k(mn))],4),Q(k(Sn),{ref_key:"editorRef",ref:e},null,512)])]))}});const Wn=rt(Dn,[["__scopeId","data-v-cd5c3012"]]);export{Wn as default};
