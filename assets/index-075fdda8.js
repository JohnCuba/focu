var Ht=Object.defineProperty;var jt=(n,t,e)=>t in n?Ht(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var $=(n,t,e)=>(jt(n,typeof t!="symbol"?t+"":t,e),e);import{d as Ot,r as E,c as Nt,a as G,o as j,b as N,e as x,t as et,f as Yt,g as ot,n as ft,F as ct,h as Ut,u as W,i as Z,j as Vt,k as Bt,l as q,m as Ft,p as kt,q as qt,w as nt,s as zt,v as mt,x as Qt,y as Gt,T as Jt,z as Xt,A as Mt,B as Zt,C as Kt,D as xt,E as te,G as ee,H as _t,I as ne,J as se,K as re}from"./index-a8abad62.js";const Wt={"en-ru":{key:"en-ru",source:"en",target:"ru"}};class oe{constructor({host:t}){$(this,"_host");$(this,"_headers",{"Content-Type":"application/json"});$(this,"get",async t=>this.makeRequest(t,"GET"));$(this,"post",async(t,{body:e})=>this.makeRequest(t,"POST",{body:e}));this._host=t}get host(){return this._host}prepareBody(t){return t?{body:JSON.stringify(t)}:{}}async makeRequest(t,e,s){const r=new URL(t,this.host),l=await globalThis.fetch(r,{method:e,...this.prepareBody(s==null?void 0:s.body),headers:{...this._headers}});if(l.ok)return await l.json();{const u=await l.text();return Promise.reject(new Error(`[Fetcher][${r.toString()}]: `+u))}}}class ae{constructor(t){$(this,"fetcher");$(this,"langPair");this.langPair=t,this.fetcher=new oe({host:"https://translate.argosopentech.com/"})}getTranslation(t){return this.fetcher.post("/translate",{body:{q:t,source:this.langPair.source,target:this.langPair.target}}).then(e=>e.translatedText)}}class ie{constructor(t,e,s){$(this,"_database");$(this,"name");$(this,"version");$(this,"storeKeys");$(this,"handleOpen",t=>{this._database=t.result});$(this,"handleUpgrade",(t,e)=>{switch(e.oldVersion){default:{this.create(t);break}}});$(this,"create",t=>{this.database||(this._database=t.result),this.storeKeys.forEach(e=>{this.database.createObjectStore(e,{keyPath:"id",autoIncrement:!0})})});$(this,"makeGetAllTransaction",async t=>(await this.initDb(),new Promise((e,s)=>{const u=this.database.transaction(t,"readonly").objectStore(t).getAll();u.onsuccess=()=>e(u.result),u.onerror=()=>s(`[LocalDatabase][${t}]: Unable to get all`)})));$(this,"makeAddTransaction",async(t,e)=>(await this.initDb(),new Promise((s,r)=>{const a=this.database.transaction(t,"readwrite").objectStore(t).add(e);a.onsuccess=()=>s({...e,id:a.result}),a.onerror=()=>r(`[LocalDatabase][${t}]: Unable to add ${e}`)})));$(this,"makeDeleteTransaction",async(t,e)=>(await this.initDb(),new Promise((s,r)=>{const a=this.database.transaction(t,"readwrite").objectStore(t).delete(e);a.onsuccess=()=>s(e),a.onerror=()=>r(`[LocalDatabase][${t}]: Unable to delete ${e}`)})));$(this,"makeEditTransaction",async(t,e)=>(await this.initDb(),new Promise((s,r)=>{const a=this.database.transaction(t,"readwrite").objectStore(t).put(e,e.id);a.onsuccess=()=>s(e),a.onerror=()=>r(`[LocalDatabase][${t}]: Unable to edit ${a.result}`)})));this.name=t,this.version=e,this.storeKeys=s}get database(){return this._database}initDb(){return new Promise((t,e)=>{if(this.database)return t("Local database already initialized");const s=globalThis.indexedDB.open(this.name,this.version);s.onsuccess=()=>{this.handleOpen(s),t("Local database opened")},s.onupgradeneeded=r=>{this.handleUpgrade(s,r),t("Local database upgraded")},s.onerror=e})}}class le{constructor(t){$(this,"dbInstance");$(this,"dbName","dictionaries");$(this,"dbVersion",1);$(this,"dbStoreKey");this.dbStoreKey=t,this.dbInstance=new ie(this.dbName,this.dbVersion,Object.keys(Wt)),this.dbInstance.initDb()}getDictionary(){return this.dbInstance.makeGetAllTransaction(this.dbStoreKey)}addWord(t){return this.dbInstance.makeAddTransaction(this.dbStoreKey,t)}deleteWord(t){return this.dbInstance.makeDeleteTransaction(this.dbStoreKey,t)}editWord(t){return this.dbInstance.makeEditTransaction(this.dbStoreKey,t)}}class ce{constructor(t="en-ru"){$(this,"localService");$(this,"translationService");$(this,"langPair");this.langPair=Wt[t],this.localService=new le(t),this.translationService=new ae(this.langPair)}getAll(){return this.localService.getDictionary()}async addWord(t){return this.localService.addWord({...t,translation:"",dateAdd:Date.now()})}async updateWordTranslation(t){const e=await this.translationService.getTranslation(t.value);return this.localService.editWord({...t,translation:e})}async deleteWord(t){return this.localService.deleteWord(t)}}const It=Symbol("dictionary-store"),Ct=Ot("dictionary",()=>{const n=new ce,t=E([]),e=a=>{t.value=t.value.map(d=>a.id===d.id?a:d)},s=async({value:a})=>{const d={value:a},p=await n.addWord(d);t.value=[p,...t.value],r(p)},r=async a=>{e({...a,isLoadTranslation:!0});let d=a;try{d=await n.updateWordTranslation(a)}finally{e({...d,isLoadTranslation:!1})}};return{words:t,addWord:s,removeWord:async a=>{const d=await n.deleteWord(a);t.value=t.value.filter(({id:p})=>p!==d)},fetchWords:async()=>{t.value=await n.getAll().then(a=>a.reverse())},updateWordTranslation:r}});var ut={},ue={get exports(){return ut},set exports(n){ut=n}};(function(n,t){(function(e,s){n.exports=s()})(Nt,function(){var e=1e3,s=6e4,r=36e5,l="millisecond",u="second",a="minute",d="hour",p="day",_="week",g="month",k="quarter",S="year",y="date",M="Invalid Date",P=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,U=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,at={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(f){var c=["th","st","nd","rd"],o=f%100;return"["+f+(c[(o-20)%10]||c[o]||c[0])+"]"}},J=function(f,c,o){var h=String(f);return!h||h.length>=c?f:""+Array(c+1-h.length).join(o)+f},I={s:J,z:function(f){var c=-f.utcOffset(),o=Math.abs(c),h=Math.floor(o/60),i=o%60;return(c<=0?"+":"-")+J(h,2,"0")+":"+J(i,2,"0")},m:function f(c,o){if(c.date()<o.date())return-f(o,c);var h=12*(o.year()-c.year())+(o.month()-c.month()),i=c.clone().add(h,g),m=o-i<0,v=c.clone().add(h+(m?-1:1),g);return+(-(h+(o-i)/(m?i-v:v-i))||0)},a:function(f){return f<0?Math.ceil(f)||0:Math.floor(f)},p:function(f){return{M:g,y:S,w:_,d:p,D:y,h:d,m:a,s:u,ms:l,Q:k}[f]||String(f||"").toLowerCase().replace(/s$/,"")},u:function(f){return f===void 0}},R="en",C={};C[R]=at;var A=function(f){return f instanceof st},z=function f(c,o,h){var i;if(!c)return R;if(typeof c=="string"){var m=c.toLowerCase();C[m]&&(i=m),o&&(C[m]=o,i=m);var v=c.split("-");if(!i&&v.length>1)return f(v[0])}else{var w=c.name;C[w]=c,i=w}return!h&&i&&(R=i),i||!h&&R},D=function(f,c){if(A(f))return f.clone();var o=typeof c=="object"?c:{};return o.date=f,o.args=arguments,new st(o)},b=I;b.l=z,b.i=A,b.w=function(f,c){return D(f,{locale:c.$L,utc:c.$u,x:c.$x,$offset:c.$offset})};var st=function(){function f(o){this.$L=z(o.locale,null,!0),this.parse(o)}var c=f.prototype;return c.parse=function(o){this.$d=function(h){var i=h.date,m=h.utc;if(i===null)return new Date(NaN);if(b.u(i))return new Date;if(i instanceof Date)return new Date(i);if(typeof i=="string"&&!/Z$/i.test(i)){var v=i.match(P);if(v){var w=v[2]-1||0,O=(v[7]||"0").substring(0,3);return m?new Date(Date.UTC(v[1],w,v[3]||1,v[4]||0,v[5]||0,v[6]||0,O)):new Date(v[1],w,v[3]||1,v[4]||0,v[5]||0,v[6]||0,O)}}return new Date(i)}(o),this.$x=o.x||{},this.init()},c.init=function(){var o=this.$d;this.$y=o.getFullYear(),this.$M=o.getMonth(),this.$D=o.getDate(),this.$W=o.getDay(),this.$H=o.getHours(),this.$m=o.getMinutes(),this.$s=o.getSeconds(),this.$ms=o.getMilliseconds()},c.$utils=function(){return b},c.isValid=function(){return this.$d.toString()!==M},c.isSame=function(o,h){var i=D(o);return this.startOf(h)<=i&&i<=this.endOf(h)},c.isAfter=function(o,h){return D(o)<this.startOf(h)},c.isBefore=function(o,h){return this.endOf(h)<D(o)},c.$g=function(o,h,i){return b.u(o)?this[h]:this.set(i,o)},c.unix=function(){return Math.floor(this.valueOf()/1e3)},c.valueOf=function(){return this.$d.getTime()},c.startOf=function(o,h){var i=this,m=!!b.u(h)||h,v=b.p(o),w=function(X,H){var F=b.w(i.$u?Date.UTC(i.$y,H,X):new Date(i.$y,H,X),i);return m?F:F.endOf(p)},O=function(X,H){return b.w(i.toDate()[X].apply(i.toDate("s"),(m?[0,0,0,0]:[23,59,59,999]).slice(H)),i)},T=this.$W,L=this.$M,B=this.$D,V="set"+(this.$u?"UTC":"");switch(v){case S:return m?w(1,0):w(31,11);case g:return m?w(1,L):w(0,L+1);case _:var K=this.$locale().weekStart||0,tt=(T<K?T+7:T)-K;return w(m?B-tt:B+(6-tt),L);case p:case y:return O(V+"Hours",0);case d:return O(V+"Minutes",1);case a:return O(V+"Seconds",2);case u:return O(V+"Milliseconds",3);default:return this.clone()}},c.endOf=function(o){return this.startOf(o,!1)},c.$set=function(o,h){var i,m=b.p(o),v="set"+(this.$u?"UTC":""),w=(i={},i[p]=v+"Date",i[y]=v+"Date",i[g]=v+"Month",i[S]=v+"FullYear",i[d]=v+"Hours",i[a]=v+"Minutes",i[u]=v+"Seconds",i[l]=v+"Milliseconds",i)[m],O=m===p?this.$D+(h-this.$W):h;if(m===g||m===S){var T=this.clone().set(y,1);T.$d[w](O),T.init(),this.$d=T.set(y,Math.min(this.$D,T.daysInMonth())).$d}else w&&this.$d[w](O);return this.init(),this},c.set=function(o,h){return this.clone().$set(o,h)},c.get=function(o){return this[b.p(o)]()},c.add=function(o,h){var i,m=this;o=Number(o);var v=b.p(h),w=function(L){var B=D(m);return b.w(B.date(B.date()+Math.round(L*o)),m)};if(v===g)return this.set(g,this.$M+o);if(v===S)return this.set(S,this.$y+o);if(v===p)return w(1);if(v===_)return w(7);var O=(i={},i[a]=s,i[d]=r,i[u]=e,i)[v]||1,T=this.$d.getTime()+o*O;return b.w(T,this)},c.subtract=function(o,h){return this.add(-1*o,h)},c.format=function(o){var h=this,i=this.$locale();if(!this.isValid())return i.invalidDate||M;var m=o||"YYYY-MM-DDTHH:mm:ssZ",v=b.z(this),w=this.$H,O=this.$m,T=this.$M,L=i.weekdays,B=i.months,V=function(H,F,it,rt){return H&&(H[F]||H(h,m))||it[F].slice(0,rt)},K=function(H){return b.s(w%12||12,H,"0")},tt=i.meridiem||function(H,F,it){var rt=H<12?"AM":"PM";return it?rt.toLowerCase():rt},X={YY:String(this.$y).slice(-2),YYYY:this.$y,M:T+1,MM:b.s(T+1,2,"0"),MMM:V(i.monthsShort,T,B,3),MMMM:V(B,T),D:this.$D,DD:b.s(this.$D,2,"0"),d:String(this.$W),dd:V(i.weekdaysMin,this.$W,L,2),ddd:V(i.weekdaysShort,this.$W,L,3),dddd:L[this.$W],H:String(w),HH:b.s(w,2,"0"),h:K(1),hh:K(2),a:tt(w,O,!0),A:tt(w,O,!1),m:String(O),mm:b.s(O,2,"0"),s:String(this.$s),ss:b.s(this.$s,2,"0"),SSS:b.s(this.$ms,3,"0"),Z:v};return m.replace(U,function(H,F){return F||X[H]||v.replace(":","")})},c.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},c.diff=function(o,h,i){var m,v=b.p(h),w=D(o),O=(w.utcOffset()-this.utcOffset())*s,T=this-w,L=b.m(this,w);return L=(m={},m[S]=L/12,m[g]=L,m[k]=L/3,m[_]=(T-O)/6048e5,m[p]=(T-O)/864e5,m[d]=T/r,m[a]=T/s,m[u]=T/e,m)[v]||T,i?L:b.a(L)},c.daysInMonth=function(){return this.endOf(g).$D},c.$locale=function(){return C[this.$L]},c.locale=function(o,h){if(!o)return this.$L;var i=this.clone(),m=z(o,h,!0);return m&&(i.$L=m),i},c.clone=function(){return b.w(this.$d,this)},c.toDate=function(){return new Date(this.valueOf())},c.toJSON=function(){return this.isValid()?this.toISOString():null},c.toISOString=function(){return this.$d.toISOString()},c.toString=function(){return this.$d.toUTCString()},f}(),pt=st.prototype;return D.prototype=pt,[["$ms",l],["$s",u],["$m",a],["$H",d],["$W",p],["$M",g],["$y",S],["$D",y]].forEach(function(f){pt[f[1]]=function(c){return this.$g(c,f[0],f[1])}}),D.extend=function(f,c){return f.$i||(f(c,st,D),f.$i=!0),D},D.locale=z,D.isDayjs=A,D.unix=function(f){return D(1e3*f)},D.en=C[R],D.Ls=C,D.p={},D})})(ue);const lt=ut,de={class:"cell"},fe={key:0,class:"progress"},he=G({__name:"table_row",props:{word:null,isSelected:{type:Boolean}},emits:["click"],setup(n,{emit:t}){const e=n,s=()=>{t("click",e.word)};return(r,l)=>(j(),N("tr",{class:ft(["hover",{active:n.isSelected}]),onClick:s},[x("td",null,et(n.word.value),1),x("td",de,[Yt(et(n.word.translation)+" ",1),n.word.isLoadTranslation?(j(),N("progress",fe)):ot("",!0)])],2))}}),ve={class:"table table-zebra w-full p-2"},pe=x("thead",null,[x("tr",null,[x("th",null,"Word"),x("th",null,"Translation")])],-1),me={key:0},_e=x("td",null,null,-1),ge=G({__name:"dictionary_table",props:{words:null,selectedWord:null},emits:["click:word"],setup(n,{emit:t}){const e=r=>{t("click:word",r)},s=(r,l)=>l?lt(r).isSame(lt(l),"day"):!1;return(r,l)=>(j(),N("table",ve,[pe,x("tbody",null,[(j(!0),N(ct,null,Ut(n.words,(u,a)=>{var d,p;return j(),N(ct,{key:u.id},[s(u.dateAdd,(d=n.words[a-1])==null?void 0:d.dateAdd)?ot("",!0):(j(),N("tr",me,[x("th",null,et(W(lt)(u.dateAdd).format("DD.MM.YYYY")),1),_e])),Z(he,{word:u,"is-selected":((p=n.selectedWord)==null?void 0:p.id)===u.id,onClick:e},null,8,["word","is-selected"])],64)}),128))])]))}});var gt;const Lt=typeof window<"u",ye=n=>typeof n=="string",Q=()=>{},yt=Lt&&((gt=window==null?void 0:window.navigator)==null?void 0:gt.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function Y(n){return typeof n=="function"?n():W(n)}function Et(n,t){function e(...s){return new Promise((r,l)=>{Promise.resolve(n(()=>t.apply(this,s),{fn:t,thisArg:this,args:s})).then(r).catch(l)})}return e}function we(n,t={}){let e,s,r=Q;const l=a=>{clearTimeout(a),r(),r=Q};return a=>{const d=Y(n),p=Y(t.maxWait);return e&&l(e),d<=0||p!==void 0&&p<=0?(s&&(l(s),s=null),Promise.resolve(a())):new Promise((_,g)=>{r=t.rejectOnCancel?g:_,p&&!s&&(s=setTimeout(()=>{e&&l(e),s=null,_(a())},p)),e=setTimeout(()=>{s&&l(s),s=null,_(a())},d)})}}function be(n,t=!0,e=!0,s=!1){let r=0,l,u=!0,a=Q,d;const p=()=>{l&&(clearTimeout(l),l=void 0,a(),a=Q)};return g=>{const k=Y(n),S=Date.now()-r,y=()=>d=g();return p(),k<=0?(r=Date.now(),y()):(S>k&&(e||!u)?(r=Date.now(),y()):t&&(d=new Promise((M,P)=>{a=s?P:M,l=setTimeout(()=>{r=Date.now(),u=!0,M(y()),p()},Math.max(0,k-S))})),!e&&!l&&(l=setTimeout(()=>u=!0,k)),u=!1,d)}}function $e(n){return n}function ht(n){return Vt()?(Bt(n),!0):!1}function Se(n,t=200,e={}){return Et(we(t,e),n)}function De(n,t=200,e=!1,s=!0,r=!1){return Et(be(t,e,s,r),n)}function Pt(n){return typeof n=="function"?q(n):E(n)}function Te(n,t=!0){Ft()?kt(n):t?n():qt(n)}function Oe(n){var t;const e=Y(n);return(t=e==null?void 0:e.$el)!=null?t:e}const Rt=Lt?window:void 0;function dt(...n){let t,e,s,r;if(ye(n[0])||Array.isArray(n[0])?([e,s,r]=n,t=Rt):[t,e,s,r]=n,!t)return Q;Array.isArray(e)||(e=[e]),Array.isArray(s)||(s=[s]);const l=[],u=()=>{l.forEach(_=>_()),l.length=0},a=(_,g,k,S)=>(_.addEventListener(g,k,S),()=>_.removeEventListener(g,k,S)),d=nt(()=>[Oe(t),Y(r)],([_,g])=>{u(),_&&l.push(...e.flatMap(k=>s.map(S=>a(_,k,S,g))))},{immediate:!0,flush:"post"}),p=()=>{d(),u()};return ht(p),p}function ke(n,t=!1){const e=E(),s=()=>e.value=!!n();return s(),Te(s,t),e}const wt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},bt="__vueuse_ssr_handlers__";wt[bt]=wt[bt]||{};const $t=1;function Me(n,t={}){const{throttle:e=0,idle:s=200,onStop:r=Q,onScroll:l=Q,offset:u={left:0,right:0,top:0,bottom:0},eventListenerOptions:a={capture:!1,passive:!0},behavior:d="auto"}=t,p=E(0),_=E(0),g=q({get(){return p.value},set(I){S(I,void 0)}}),k=q({get(){return _.value},set(I){S(void 0,I)}});function S(I,R){var C,A,z;const D=Y(n);D&&((z=D instanceof Document?document.body:D)==null||z.scrollTo({top:(C=Y(R))!=null?C:k.value,left:(A=Y(I))!=null?A:g.value,behavior:Y(d)}))}const y=E(!1),M=mt({left:!0,right:!1,top:!0,bottom:!1}),P=mt({left:!1,right:!1,top:!1,bottom:!1}),U=I=>{y.value&&(y.value=!1,P.left=!1,P.right=!1,P.top=!1,P.bottom=!1,r(I))},at=Se(U,e+s),J=I=>{const R=I.target===document?I.target.documentElement:I.target,C=R.scrollLeft;P.left=C<p.value,P.right=C>_.value,M.left=C<=0+(u.left||0),M.right=C+R.clientWidth>=R.scrollWidth-(u.right||0)-$t,p.value=C;let A=R.scrollTop;I.target===document&&!A&&(A=document.body.scrollTop),P.top=A<_.value,P.bottom=A>_.value,M.top=A<=0+(u.top||0),M.bottom=A+R.clientHeight>=R.scrollHeight-(u.bottom||0)-$t,_.value=A,y.value=!0,at(I),l(I)};return dt(n,"scroll",e?De(J,e,!0,!1):J,a),dt(n,"scrollend",U,a),{x:g,y:k,isScrolling:y,arrivedState:M,directions:P}}var St;(function(n){n.UP="UP",n.RIGHT="RIGHT",n.DOWN="DOWN",n.LEFT="LEFT",n.NONE="NONE"})(St||(St={}));function At(n){const t=window.getComputedStyle(n);if(t.overflowX==="scroll"||t.overflowY==="scroll"||t.overflowX==="auto"&&n.clientHeight<n.scrollHeight||t.overflowY==="auto"&&n.clientWidth<n.scrollWidth)return!0;{const e=n.parentNode;return!e||e.tagName==="BODY"?!1:At(e)}}function xe(n){const t=n||window.event,e=t.target;return At(e)?!1:t.touches.length>1?!0:(t.preventDefault&&t.preventDefault(),!1)}function We(n,t=!1){const e=E(t);let s=null,r;nt(Pt(n),a=>{if(a){const d=a;r=d.style.overflow,e.value&&(d.style.overflow="hidden")}},{immediate:!0});const l=()=>{const a=Y(n);!a||e.value||(yt&&(s=dt(a,"touchmove",d=>{xe(d)},{passive:!1})),a.style.overflow="hidden",e.value=!0)},u=()=>{const a=Y(n);!a||!e.value||(yt&&(s==null||s()),a.style.overflow=r,e.value=!1)};return ht(u),q({get(){return e.value},set(a){a?l():u()}})}function Ie(n={}){const{interimResults:t=!0,continuous:e=!0,window:s=Rt}=n,r=Pt(n.lang||"en-US"),l=E(!1),u=E(!1),a=E(""),d=zt(void 0),p=(M=!l.value)=>{l.value=M},_=()=>{l.value=!0},g=()=>{l.value=!1},k=s&&(s.SpeechRecognition||s.webkitSpeechRecognition),S=ke(()=>k);let y;return S.value&&(y=new k,y.continuous=e,y.interimResults=t,y.lang=W(r),y.onstart=()=>{u.value=!1},nt(r,M=>{y&&!l.value&&(y.lang=M)}),y.onresult=M=>{const P=Array.from(M.results).map(U=>(u.value=U.isFinal,U[0])).map(U=>U.transcript).join("");a.value=P,d.value=void 0},y.onerror=M=>{d.value=M},y.onend=()=>{l.value=!1,y.lang=W(r)},nt(l,()=>{l.value?y.start():y.stop()})),ht(()=>{l.value=!1}),{isSupported:S,isListening:l,isFinal:u,recognition:y,result:a,error:d,toggle:p,start:_,stop:g}}var Ce=Object.defineProperty,Dt=Object.getOwnPropertySymbols,Le=Object.prototype.hasOwnProperty,Ee=Object.prototype.propertyIsEnumerable,Tt=(n,t,e)=>t in n?Ce(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e,Pe=(n,t)=>{for(var e in t||(t={}))Le.call(t,e)&&Tt(n,e,t[e]);if(Dt)for(var e of Dt(t))Ee.call(t,e)&&Tt(n,e,t[e]);return n};const Re={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};Pe({linear:$e},Re);const Ae={key:0,class:"fixed top-0 left-0 w-full h-full z-20 flex justify-center items-center"},He=["onClick"],je={class:"absolute card lg:w-96 w-11/12 bg-base-100 shadow-xl"},Ne={class:"card-body"},Ye={class:"card-title"},Ue=G({__name:"record_modal",props:{word:null},emits:["click:background","click:remove"],setup(n,{emit:t}){const e=n,s=We(document.body),r=()=>{t("click:background")},l=()=>{e.word&&t("click:remove",e.word)};return nt(()=>!!e.word,u=>{s.value=u}),(u,a)=>(j(),Qt(Jt,{name:"modal"},{default:Gt(()=>[n.word?(j(),N("div",Ae,[x("div",{class:"bg-neutral/[.4] w-full h-full",onClick:Xt(r,["self"])},null,8,He),x("div",je,[x("div",Ne,[x("h1",Ye,et(n.word.value),1),x("p",null,et(n.word.translation),1),x("div",{class:"card-actions justify-end"},[x("button",{class:"delete-btn btn btn-xs btn-outline btn-error",onClick:l}," удалить ")])])])])):ot("",!0)]),_:1}))}});const vt=(n,t)=>{const e=n.__vccOpts||n;for(const[s,r]of t)e[s]=r;return e},Ve=vt(Ue,[["__scopeId","data-v-3a85bd18"]]),Be=G({__name:"index",setup(n){const t=Ct(),{words:e}=Mt(t),{removeWord:s}=t,r=E(),l=d=>{r.value=d},u=()=>{r.value=void 0},a=d=>{s(d.id),u()};return(d,p)=>(j(),N(ct,null,[Z(ge,{words:W(e),"selected-word":r.value,"onClick:word":l},null,8,["words","selected-word"]),Z(W(Ve),{word:r.value,"onClick:background":u,"onClick:remove":a},null,8,["word"])],64))}}),Fe=Ot("editor",()=>{const n=Zt(It),t=E(""),e=E(!1);async function s(){e.value=!0;const l=t.value;l&&(await(n==null?void 0:n.addWord({value:l})),r(),e.value=!1)}function r(){t.value=""}return{value:t,isLoading:e,submitWord:s}}),qe=({element:n=document,offset:t}=ze)=>{const{directions:e,y:s}=Me(n,{behavior:"smooth"}),{top:r,bottom:l}=Kt(e),u=E(!1);return xt(()=>{r.value?u.value=!1:s.value>((t==null?void 0:t.value)??0)&&l.value&&(u.value=!0)},{flush:"post"}),{isHidden:u}},ze={element:document},Qe=["src"],Ge=G({__name:"speech",emits:["update:modelValue"],setup(n,{emit:t}){const{isSupported:e,isListening:s,isFinal:r,result:l,start:u,stop:a}=Ie(),d=q(()=>`/focu/img/icons/${s.value?"voice_recording":"mic"}.svg`),p=q(()=>({"btn-active":s.value})),_=()=>{s.value?a():u()};return xt(()=>{r.value&&(t("update:modelValue",l.value),a())}),(g,k)=>W(e)?(j(),N("button",{key:0,class:ft(["btn btn-success btn-square",W(p)]),onClick:_},[x("img",{src:W(d),alt:"toggle speech recognize",width:"32",height:"32"},null,8,Qe)],2)):ot("",!0)}}),Je=["disabled"],Xe=G({__name:"editor",setup(n,{expose:t}){const e=E(),s=Fe(),{value:r,isLoading:l}=Mt(s),{submitWord:u}=s,a=q(()=>{var p;return((p=e.value)==null?void 0:p.offsetHeight)||0}),{isHidden:d}=qe({offset:a});return t({elementRef:e}),(p,_)=>(j(),N("div",{ref_key:"elementRef",ref:e,class:ft(["root navbar z-20 fixed -top-28 gap-x-2",{"top-1":!W(d)}])},[te(x("input",{"onUpdate:modelValue":_[0]||(_[0]=g=>_t(r)?r.value=g:null),type:"text",class:"input input-bordered input-success flex-1",placeholder:"Type something...",disabled:W(l),onKeypress:_[1]||(_[1]=ne((...g)=>W(u)&&W(u)(...g),["enter"]))},null,40,Je),[[ee,W(r)]]),Z(Ge,{modelValue:W(r),"onUpdate:modelValue":_[2]||(_[2]=g=>_t(r)?r.value=g:null),disabled:W(l)},null,8,["modelValue","disabled"])],2))}});const Ze=vt(Xe,[["__scopeId","data-v-87fd92a6"]]),Ke={class:"main relative container mx-auto"},tn=G({__name:"index",setup(n){const t=Ct();re(It,t);const e=E(),s=q(()=>{var r;return{"margin-top":`calc(${(r=e.value)==null?void 0:r.elementRef.offsetHeight}px + var(--spacing))`}});return kt(()=>{t.fetchWords()}),(r,l)=>(j(),N("main",Ke,[Z(W(Ze),{ref_key:"editorRef",ref:e},null,512),x("section",{class:"p-2",style:se(W(s))},[Z(W(Be))],4)]))}});const sn=vt(tn,[["__scopeId","data-v-20890cef"]]);export{sn as default};
