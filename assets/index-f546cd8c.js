var Vt=Object.defineProperty;var Yt=(n,t,e)=>t in n?Vt(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var k=(n,t,e)=>(Yt(n,typeof t!="symbol"?t+"":t,e),e);import{d as Ot,r as I,c as Ft,a as z,o as P,b as N,e as $,t as nt,f as Ut,g as K,n as vt,F as ut,h as qt,u as T,i as Z,j as dt,k as zt,l as Qt,m as q,p as Zt,q as Mt,s as Gt,w as st,v as Jt,x as _t,y as Wt,z as xt,T as Xt,A as It,B as Kt,C as Ct,D as te,E as gt,G as Lt,H as ee,I as ne,J as se,K as oe,L as re}from"./index-77705224.js";const Et={"en-ru":{key:"en-ru",source:"en",target:"ru"}};class ae{constructor({host:t}){k(this,"_host");k(this,"_headers",{"Content-Type":"application/json"});k(this,"get",async t=>this.makeRequest(t,"GET"));k(this,"post",async(t,{body:e})=>this.makeRequest(t,"POST",{body:e}));this._host=t}get host(){return this._host}prepareBody(t){return t?{body:JSON.stringify(t)}:{}}async makeRequest(t,e,s){const o=new URL(t,this.host),r=await globalThis.fetch(o,{method:e,...this.prepareBody(s==null?void 0:s.body),headers:{...this._headers}});if(r.ok)return await r.json();{const f=await r.text();return Promise.reject(new Error(`[Fetcher][${o.toString()}]: `+f))}}}class ie{constructor(t){k(this,"fetcher");k(this,"langPair");this.langPair=t,this.fetcher=new ae({host:"https://translate.argosopentech.com/"})}getTranslation(t){return this.fetcher.post("/translate",{body:{q:t,source:this.langPair.source,target:this.langPair.target}}).then(e=>e.translatedText)}}class le{constructor(t,e,s){k(this,"_database");k(this,"name");k(this,"version");k(this,"storeKeys");k(this,"handleOpen",t=>{this._database=t.result});k(this,"handleUpgrade",(t,e)=>{switch(e.oldVersion){default:{this.create(t);break}}});k(this,"create",t=>{this.database||(this._database=t.result),this.storeKeys.forEach(e=>{this.database.createObjectStore(e,{keyPath:"id",autoIncrement:!0})})});k(this,"makeGetAllTransaction",async t=>(await this.initDb(),new Promise((e,s)=>{const f=this.database.transaction(t,"readonly").objectStore(t).getAll();f.onsuccess=()=>e(f.result),f.onerror=()=>s(`[LocalDatabase][${t}]: Unable to get all`)})));k(this,"makeAddTransaction",async(t,e)=>(await this.initDb(),new Promise((s,o)=>{const i=this.database.transaction(t,"readwrite").objectStore(t).add(e);i.onsuccess=()=>s({...e,id:i.result}),i.onerror=()=>o(`[LocalDatabase][${t}]: Unable to add ${e}`)})));k(this,"makeDeleteTransaction",async(t,e)=>(await this.initDb(),new Promise((s,o)=>{const i=this.database.transaction(t,"readwrite").objectStore(t).delete(e);i.onsuccess=()=>s(e),i.onerror=()=>o(`[LocalDatabase][${t}]: Unable to delete ${e}`)})));k(this,"makeEditTransaction",async(t,e)=>(await this.initDb(),new Promise((s,o)=>{const i=this.database.transaction(t,"readwrite").objectStore(t).put(e);i.onsuccess=()=>s({...e,id:i.result}),i.onerror=()=>o(`[LocalDatabase][${t}]: Unable to edit ${i.result}`)})));this.name=t,this.version=e,this.storeKeys=s}get database(){return this._database}initDb(){return new Promise((t,e)=>{if(this.database)return t("Local database already initialized");const s=globalThis.indexedDB.open(this.name,this.version);s.onsuccess=()=>{this.handleOpen(s),t("Local database opened")},s.onupgradeneeded=o=>{this.handleUpgrade(s,o),t("Local database upgraded")},s.onerror=e})}}class ce{constructor(t){k(this,"dbInstance");k(this,"dbName","dictionaries");k(this,"dbVersion",1);k(this,"dbStoreKey");this.dbStoreKey=t,this.dbInstance=new le(this.dbName,this.dbVersion,Object.keys(Et)),this.dbInstance.initDb()}getDictionary(){return this.dbInstance.makeGetAllTransaction(this.dbStoreKey)}addWord(t){return this.dbInstance.makeAddTransaction(this.dbStoreKey,t)}deleteWord(t){return this.dbInstance.makeDeleteTransaction(this.dbStoreKey,t)}editWord(t){return this.dbInstance.makeEditTransaction(this.dbStoreKey,t)}}class ue{constructor(t="en-ru"){k(this,"localService");k(this,"translationService");k(this,"langPair");this.langPair=Et[t],this.localService=new ce(t),this.translationService=new ie(this.langPair)}getAll(){return this.localService.getDictionary()}async addWord(t){return this.localService.addWord({...t,translation:"",dateAdd:Date.now()})}async updateWordTranslation(t){const e=await this.translationService.getTranslation(t.value);return this.localService.editWord({...t,translation:e})}modifyWord(t){return this.localService.editWord(t)}async deleteWord(t){return this.localService.deleteWord(t)}}const Pt=Symbol("dictionary-store"),Rt=Ot("dictionary",()=>{const n=new ue,t=I([]),e=d=>{t.value=t.value.map(u=>d.id===u.id?d:u)},s=async({value:d})=>{const u={value:d},h=await n.addWord(u);t.value=[h,...t.value],o(h)},o=async d=>{e({...d,isLoadTranslation:!0});let u=d;try{u=await n.updateWordTranslation(d)}finally{e({...u,isLoadTranslation:!1})}};return{words:t,addWord:s,removeWord:async d=>{const u=await n.deleteWord(d);t.value=t.value.filter(({id:h})=>h!==u)},fetchWords:async()=>{t.value=await n.getAll().then(d=>d.reverse())},updateWordTranslation:o,modifyWord:async d=>{e({...d,isLoadTranslation:!0});let u=d;try{u=await n.modifyWord(d)}finally{e({...u,isLoadTranslation:!1})}}}});var ft={},de={get exports(){return ft},set exports(n){ft=n}};(function(n,t){(function(e,s){n.exports=s()})(Ft,function(){var e=1e3,s=6e4,o=36e5,r="millisecond",f="second",i="minute",d="hour",u="day",h="week",g="month",S="quarter",D="year",y="date",x="Invalid Date",R=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,V=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,it={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(v){var c=["th","st","nd","rd"],a=v%100;return"["+v+(c[(a-20)%10]||c[a]||c[0])+"]"}},J=function(v,c,a){var m=String(v);return!m||m.length>=c?v:""+Array(c+1-m.length).join(a)+v},C={s:J,z:function(v){var c=-v.utcOffset(),a=Math.abs(c),m=Math.floor(a/60),l=a%60;return(c<=0?"+":"-")+J(m,2,"0")+":"+J(l,2,"0")},m:function v(c,a){if(c.date()<a.date())return-v(a,c);var m=12*(a.year()-c.year())+(a.month()-c.month()),l=c.clone().add(m,g),_=a-l<0,p=c.clone().add(m+(_?-1:1),g);return+(-(m+(a-l)/(_?l-p:p-l))||0)},a:function(v){return v<0?Math.ceil(v)||0:Math.floor(v)},p:function(v){return{M:g,y:D,w:h,d:u,D:y,h:d,m:i,s:f,ms:r,Q:S}[v]||String(v||"").toLowerCase().replace(/s$/,"")},u:function(v){return v===void 0}},A="en",L={};L[A]=it;var H=function(v){return v instanceof ot},Q=function v(c,a,m){var l;if(!c)return A;if(typeof c=="string"){var _=c.toLowerCase();L[_]&&(l=_),a&&(L[_]=a,l=_);var p=c.split("-");if(!l&&p.length>1)return v(p[0])}else{var b=c.name;L[b]=c,l=b}return!m&&l&&(A=l),l||!m&&A},O=function(v,c){if(H(v))return v.clone();var a=typeof c=="object"?c:{};return a.date=v,a.args=arguments,new ot(a)},w=C;w.l=Q,w.i=H,w.w=function(v,c){return O(v,{locale:c.$L,utc:c.$u,x:c.$x,$offset:c.$offset})};var ot=function(){function v(a){this.$L=Q(a.locale,null,!0),this.parse(a)}var c=v.prototype;return c.parse=function(a){this.$d=function(m){var l=m.date,_=m.utc;if(l===null)return new Date(NaN);if(w.u(l))return new Date;if(l instanceof Date)return new Date(l);if(typeof l=="string"&&!/Z$/i.test(l)){var p=l.match(R);if(p){var b=p[2]-1||0,W=(p[7]||"0").substring(0,3);return _?new Date(Date.UTC(p[1],b,p[3]||1,p[4]||0,p[5]||0,p[6]||0,W)):new Date(p[1],b,p[3]||1,p[4]||0,p[5]||0,p[6]||0,W)}}return new Date(l)}(a),this.$x=a.x||{},this.init()},c.init=function(){var a=this.$d;this.$y=a.getFullYear(),this.$M=a.getMonth(),this.$D=a.getDate(),this.$W=a.getDay(),this.$H=a.getHours(),this.$m=a.getMinutes(),this.$s=a.getSeconds(),this.$ms=a.getMilliseconds()},c.$utils=function(){return w},c.isValid=function(){return this.$d.toString()!==x},c.isSame=function(a,m){var l=O(a);return this.startOf(m)<=l&&l<=this.endOf(m)},c.isAfter=function(a,m){return O(a)<this.startOf(m)},c.isBefore=function(a,m){return this.endOf(m)<O(a)},c.$g=function(a,m,l){return w.u(a)?this[m]:this.set(l,a)},c.unix=function(){return Math.floor(this.valueOf()/1e3)},c.valueOf=function(){return this.$d.getTime()},c.startOf=function(a,m){var l=this,_=!!w.u(m)||m,p=w.p(a),b=function(X,j){var U=w.w(l.$u?Date.UTC(l.$y,j,X):new Date(l.$y,j,X),l);return _?U:U.endOf(u)},W=function(X,j){return w.w(l.toDate()[X].apply(l.toDate("s"),(_?[0,0,0,0]:[23,59,59,999]).slice(j)),l)},M=this.$W,E=this.$M,F=this.$D,Y="set"+(this.$u?"UTC":"");switch(p){case D:return _?b(1,0):b(31,11);case g:return _?b(1,E):b(0,E+1);case h:var tt=this.$locale().weekStart||0,et=(M<tt?M+7:M)-tt;return b(_?F-et:F+(6-et),E);case u:case y:return W(Y+"Hours",0);case d:return W(Y+"Minutes",1);case i:return W(Y+"Seconds",2);case f:return W(Y+"Milliseconds",3);default:return this.clone()}},c.endOf=function(a){return this.startOf(a,!1)},c.$set=function(a,m){var l,_=w.p(a),p="set"+(this.$u?"UTC":""),b=(l={},l[u]=p+"Date",l[y]=p+"Date",l[g]=p+"Month",l[D]=p+"FullYear",l[d]=p+"Hours",l[i]=p+"Minutes",l[f]=p+"Seconds",l[r]=p+"Milliseconds",l)[_],W=_===u?this.$D+(m-this.$W):m;if(_===g||_===D){var M=this.clone().set(y,1);M.$d[b](W),M.init(),this.$d=M.set(y,Math.min(this.$D,M.daysInMonth())).$d}else b&&this.$d[b](W);return this.init(),this},c.set=function(a,m){return this.clone().$set(a,m)},c.get=function(a){return this[w.p(a)]()},c.add=function(a,m){var l,_=this;a=Number(a);var p=w.p(m),b=function(E){var F=O(_);return w.w(F.date(F.date()+Math.round(E*a)),_)};if(p===g)return this.set(g,this.$M+a);if(p===D)return this.set(D,this.$y+a);if(p===u)return b(1);if(p===h)return b(7);var W=(l={},l[i]=s,l[d]=o,l[f]=e,l)[p]||1,M=this.$d.getTime()+a*W;return w.w(M,this)},c.subtract=function(a,m){return this.add(-1*a,m)},c.format=function(a){var m=this,l=this.$locale();if(!this.isValid())return l.invalidDate||x;var _=a||"YYYY-MM-DDTHH:mm:ssZ",p=w.z(this),b=this.$H,W=this.$m,M=this.$M,E=l.weekdays,F=l.months,Y=function(j,U,lt,rt){return j&&(j[U]||j(m,_))||lt[U].slice(0,rt)},tt=function(j){return w.s(b%12||12,j,"0")},et=l.meridiem||function(j,U,lt){var rt=j<12?"AM":"PM";return lt?rt.toLowerCase():rt},X={YY:String(this.$y).slice(-2),YYYY:this.$y,M:M+1,MM:w.s(M+1,2,"0"),MMM:Y(l.monthsShort,M,F,3),MMMM:Y(F,M),D:this.$D,DD:w.s(this.$D,2,"0"),d:String(this.$W),dd:Y(l.weekdaysMin,this.$W,E,2),ddd:Y(l.weekdaysShort,this.$W,E,3),dddd:E[this.$W],H:String(b),HH:w.s(b,2,"0"),h:tt(1),hh:tt(2),a:et(b,W,!0),A:et(b,W,!1),m:String(W),mm:w.s(W,2,"0"),s:String(this.$s),ss:w.s(this.$s,2,"0"),SSS:w.s(this.$ms,3,"0"),Z:p};return _.replace(V,function(j,U){return U||X[j]||p.replace(":","")})},c.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},c.diff=function(a,m,l){var _,p=w.p(m),b=O(a),W=(b.utcOffset()-this.utcOffset())*s,M=this-b,E=w.m(this,b);return E=(_={},_[D]=E/12,_[g]=E,_[S]=E/3,_[h]=(M-W)/6048e5,_[u]=(M-W)/864e5,_[d]=M/o,_[i]=M/s,_[f]=M/e,_)[p]||M,l?E:w.a(E)},c.daysInMonth=function(){return this.endOf(g).$D},c.$locale=function(){return L[this.$L]},c.locale=function(a,m){if(!a)return this.$L;var l=this.clone(),_=Q(a,m,!0);return _&&(l.$L=_),l},c.clone=function(){return w.w(this.$d,this)},c.toDate=function(){return new Date(this.valueOf())},c.toJSON=function(){return this.isValid()?this.toISOString():null},c.toISOString=function(){return this.$d.toISOString()},c.toString=function(){return this.$d.toUTCString()},v}(),pt=ot.prototype;return O.prototype=pt,[["$ms",r],["$s",f],["$m",i],["$H",d],["$W",u],["$M",g],["$y",D],["$D",y]].forEach(function(v){pt[v[1]]=function(c){return this.$g(c,v[0],v[1])}}),O.extend=function(v,c){return v.$i||(v(c,ot,O),v.$i=!0),O},O.locale=Q,O.isDayjs=H,O.unix=function(v){return O(1e3*v)},O.en=L[A],O.Ls=L,O.p={},O})})(de);const ct=ft,fe={class:"cell"},he={key:0,class:"progress"},ve=z({__name:"table_row",props:{word:null,isSelected:{type:Boolean}},emits:["click"],setup(n,{emit:t}){const e=n,s=()=>{t("click",e.word)};return(o,r)=>(P(),N("tr",{class:vt(["hover",{active:n.isSelected}]),onClick:s},[$("td",null,nt(n.word.value),1),$("td",fe,[Ut(nt(n.word.translation)+" ",1),n.word.isLoadTranslation?(P(),N("progress",he)):K("",!0)])],2))}}),me={class:"table table-zebra w-full p-2"},pe=$("thead",null,[$("tr",null,[$("th",null,"Word"),$("th",null,"Translation")])],-1),_e={key:0},ge=$("td",null,null,-1),ye=z({__name:"dictionary_table",props:{words:null,selectedWord:null},emits:["click:word"],setup(n,{emit:t}){const e=o=>{t("click:word",o)},s=(o,r)=>r?ct(o).isSame(ct(r),"day"):!1;return(o,r)=>(P(),N("table",me,[pe,$("tbody",null,[(P(!0),N(ut,null,qt(n.words,(f,i)=>{var d,u;return P(),N(ut,{key:f.id},[s(f.dateAdd,(d=n.words[i-1])==null?void 0:d.dateAdd)?K("",!0):(P(),N("tr",_e,[$("th",null,nt(T(ct)(f.dateAdd).format("DD.MM.YYYY")),1),ge])),Z(ve,{word:f,"is-selected":((u=n.selectedWord)==null?void 0:u.id)===f.id,onClick:e},null,8,["word","is-selected"])],64)}),128))])]))}});var yt;const At=typeof window<"u",be=n=>typeof n=="string",G=()=>{},bt=At&&((yt=window==null?void 0:window.navigator)==null?void 0:yt.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function B(n){return typeof n=="function"?n():T(n)}function Ht(n,t){function e(...s){return new Promise((o,r)=>{Promise.resolve(n(()=>t.apply(this,s),{fn:t,thisArg:this,args:s})).then(o).catch(r)})}return e}function we(n,t={}){let e,s,o=G;const r=i=>{clearTimeout(i),o(),o=G};return i=>{const d=B(n),u=B(t.maxWait);return e&&r(e),d<=0||u!==void 0&&u<=0?(s&&(r(s),s=null),Promise.resolve(i())):new Promise((h,g)=>{o=t.rejectOnCancel?g:h,u&&!s&&(s=setTimeout(()=>{e&&r(e),s=null,h(i())},u)),e=setTimeout(()=>{s&&r(s),s=null,h(i())},d)})}}function $e(n,t=!0,e=!0,s=!1){let o=0,r,f=!0,i=G,d;const u=()=>{r&&(clearTimeout(r),r=void 0,i(),i=G)};return g=>{const S=B(n),D=Date.now()-o,y=()=>d=g();return u(),S<=0?(o=Date.now(),y()):(D>S&&(e||!f)?(o=Date.now(),y()):t&&(d=new Promise((x,R)=>{i=s?R:x,r=setTimeout(()=>{o=Date.now(),f=!0,x(y()),u()},Math.max(0,S-D))})),!e&&!r&&(r=setTimeout(()=>f=!0,S)),f=!1,d)}}function Se(n){return n}function mt(n){return zt()?(Qt(n),!0):!1}function De(n,t=200,e={}){return Ht(we(t,e),n)}function ke(n,t=200,e=!1,s=!0,o=!1){return Ht($e(t,e,s,o),n)}function jt(n){return typeof n=="function"?q(n):I(n)}function Te(n,t=!0){Zt()?Mt(n):t?n():Gt(n)}function Oe(n=!1,t={}){const{truthyValue:e=!0,falsyValue:s=!1}=t,o=dt(n),r=I(n);function f(i){if(arguments.length)return r.value=i,r.value;{const d=B(e);return r.value=r.value===d?B(s):d,r.value}}return o?f:[r,f]}function Me(n){var t;const e=B(n);return(t=e==null?void 0:e.$el)!=null?t:e}const Nt=At?window:void 0;function ht(...n){let t,e,s,o;if(be(n[0])||Array.isArray(n[0])?([e,s,o]=n,t=Nt):[t,e,s,o]=n,!t)return G;Array.isArray(e)||(e=[e]),Array.isArray(s)||(s=[s]);const r=[],f=()=>{r.forEach(h=>h()),r.length=0},i=(h,g,S,D)=>(h.addEventListener(g,S,D),()=>h.removeEventListener(g,S,D)),d=st(()=>[Me(t),B(o)],([h,g])=>{f(),h&&r.push(...e.flatMap(S=>s.map(D=>i(h,S,D,g))))},{immediate:!0,flush:"post"}),u=()=>{d(),f()};return mt(u),u}function We(n,t=!1){const e=I(),s=()=>e.value=!!n();return s(),Te(s,t),e}const wt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},$t="__vueuse_ssr_handlers__";wt[$t]=wt[$t]||{};const St=1;function xe(n,t={}){const{throttle:e=0,idle:s=200,onStop:o=G,onScroll:r=G,offset:f={left:0,right:0,top:0,bottom:0},eventListenerOptions:i={capture:!1,passive:!0},behavior:d="auto"}=t,u=I(0),h=I(0),g=q({get(){return u.value},set(C){D(C,void 0)}}),S=q({get(){return h.value},set(C){D(void 0,C)}});function D(C,A){var L,H,Q;const O=B(n);O&&((Q=O instanceof Document?document.body:O)==null||Q.scrollTo({top:(L=B(A))!=null?L:S.value,left:(H=B(C))!=null?H:g.value,behavior:B(d)}))}const y=I(!1),x=_t({left:!0,right:!1,top:!0,bottom:!1}),R=_t({left:!1,right:!1,top:!1,bottom:!1}),V=C=>{y.value&&(y.value=!1,R.left=!1,R.right=!1,R.top=!1,R.bottom=!1,o(C))},it=De(V,e+s),J=C=>{const A=C.target===document?C.target.documentElement:C.target,L=A.scrollLeft;R.left=L<u.value,R.right=L>h.value,x.left=L<=0+(f.left||0),x.right=L+A.clientWidth>=A.scrollWidth-(f.right||0)-St,u.value=L;let H=A.scrollTop;C.target===document&&!H&&(H=document.body.scrollTop),R.top=H<h.value,R.bottom=H>h.value,x.top=H<=0+(f.top||0),x.bottom=H+A.clientHeight>=A.scrollHeight-(f.bottom||0)-St,h.value=H,y.value=!0,it(C),r(C)};return ht(n,"scroll",e?ke(J,e,!0,!1):J,i),ht(n,"scrollend",V,i),{x:g,y:S,isScrolling:y,arrivedState:x,directions:R}}var Dt;(function(n){n.UP="UP",n.RIGHT="RIGHT",n.DOWN="DOWN",n.LEFT="LEFT",n.NONE="NONE"})(Dt||(Dt={}));function Bt(n){const t=window.getComputedStyle(n);if(t.overflowX==="scroll"||t.overflowY==="scroll"||t.overflowX==="auto"&&n.clientHeight<n.scrollHeight||t.overflowY==="auto"&&n.clientWidth<n.scrollWidth)return!0;{const e=n.parentNode;return!e||e.tagName==="BODY"?!1:Bt(e)}}function Ie(n){const t=n||window.event,e=t.target;return Bt(e)?!1:t.touches.length>1?!0:(t.preventDefault&&t.preventDefault(),!1)}function Ce(n,t=!1){const e=I(t);let s=null,o;st(jt(n),i=>{if(i){const d=i;o=d.style.overflow,e.value&&(d.style.overflow="hidden")}},{immediate:!0});const r=()=>{const i=B(n);!i||e.value||(bt&&(s=ht(i,"touchmove",d=>{Ie(d)},{passive:!1})),i.style.overflow="hidden",e.value=!0)},f=()=>{const i=B(n);!i||!e.value||(bt&&(s==null||s()),i.style.overflow=o,e.value=!1)};return mt(f),q({get(){return e.value},set(i){i?r():f()}})}function Le(n={}){const{interimResults:t=!0,continuous:e=!0,window:s=Nt}=n,o=jt(n.lang||"en-US"),r=I(!1),f=I(!1),i=I(""),d=Jt(void 0),u=(x=!r.value)=>{r.value=x},h=()=>{r.value=!0},g=()=>{r.value=!1},S=s&&(s.SpeechRecognition||s.webkitSpeechRecognition),D=We(()=>S);let y;return D.value&&(y=new S,y.continuous=e,y.interimResults=t,y.lang=T(o),y.onstart=()=>{f.value=!1},st(o,x=>{y&&!r.value&&(y.lang=x)}),y.onresult=x=>{const R=Array.from(x.results).map(V=>(f.value=V.isFinal,V[0])).map(V=>V.transcript).join("");i.value=R,d.value=void 0},y.onerror=x=>{d.value=x},y.onend=()=>{r.value=!1,y.lang=T(o)},st(r,()=>{r.value?y.start():y.stop()})),mt(()=>{r.value=!1}),{isSupported:D,isListening:r,isFinal:f,recognition:y,result:i,error:d,toggle:u,start:h,stop:g}}var Ee=Object.defineProperty,kt=Object.getOwnPropertySymbols,Pe=Object.prototype.hasOwnProperty,Re=Object.prototype.propertyIsEnumerable,Tt=(n,t,e)=>t in n?Ee(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e,Ae=(n,t)=>{for(var e in t||(t={}))Pe.call(t,e)&&Tt(n,e,t[e]);if(kt)for(var e of kt(t))Re.call(t,e)&&Tt(n,e,t[e]);return n};const He={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};Ae({linear:Se},He);const je={key:0,class:"fixed top-0 left-0 w-full h-full z-30 flex justify-center items-center"},Ne=["onClick"],Be={class:"absolute card lg:w-96 w-11/12 bg-base-100 shadow-xl"},Ve=z({__name:"modal",props:{isOpen:{type:Boolean}},emits:["click:background"],setup(n,{emit:t}){const e=n,s=Ce(document.body),o=()=>{t("click:background")};return st(()=>e.isOpen,r=>{s.value=r}),(r,f)=>(P(),Wt(Xt,{name:"modal"},{default:xt(()=>[n.isOpen?(P(),N("div",je,[$("div",{class:"bg-neutral/[.4] w-full h-full",onClick:It(o,["self"])},null,8,Ne),$("div",Be,[Kt(r.$slots,"default",{},void 0,!0)])])):K("",!0)]),_:3}))}});const at=(n,t)=>{const e=n.__vccOpts||n;for(const[s,o]of t)e[s]=o;return e},Ye=at(Ve,[["__scopeId","data-v-1b4d69e4"]]),Fe={},Ue={xmlns:"http://www.w3.org/2000/svg",height:"100%",width:"100%",viewBox:"0 96 960 960",class:"delay-0"},qe=$("path",{class:"delay-0 fill-inherit",d:"m361 757 119-121 120 121 47-48-119-121 119-121-47-48-120 121-119-121-48 48 120 121-120 121 48 48ZM261 936q-24 0-42-18t-18-42V306h-41v-60h188v-30h264v30h188v60h-41v570q0 24-18 42t-42 18H261Zm438-630H261v570h438V306Zm-438 0v570-570Z"},null,-1),ze=[qe];function Qe(n,t){return P(),N("svg",Ue,ze)}const Ze=at(Fe,[["render",Qe]]),Ge={key:0,class:"card-body"},Je={class:"card-title"},Xe={class:"card-actions justify-end mt-2"},Ke=["onSubmit"],tn=["value"],en=["value"],nn={class:"card-actions justify-end mt-2"},sn=$("button",{class:"btn btn-sm btn-outline btn-success",type:"submit"}," сохранить ",-1),on=z({__name:"record_modal",props:{word:null},emits:["click:close","click:remove","click:save"],setup(n,{emit:t}){const e=n,[s,o]=Oe(!1),r=()=>{o(!1),t("click:close")},f=()=>{e.word&&t("click:remove",e.word)},i=d=>{var g,S;if(!e.word)return;const u=new FormData(d.target),h={...e.word,value:((g=u.get("value"))==null?void 0:g.toString())??"",translation:((S=u.get("translation"))==null?void 0:S.toString())??""};t("click:save",h),o(!1)};return(d,u)=>(P(),Wt(T(Ye),{"is-open":!!n.word,"onClick:background":r},{default:xt(()=>{var h,g,S,D;return[T(s)?K("",!0):(P(),N("div",Ge,[$("h1",Je,nt((h=n.word)==null?void 0:h.value),1),$("p",null,nt((g=n.word)==null?void 0:g.translation),1),$("div",Xe,[$("button",{class:"btn btn-sm btn-outline btn-error fill-error hover:fill-info-content",onClick:f},[Z(T(Ze),{class:"w-5 h-5"})]),$("button",{class:"btn btn-sm btn-outline btn-info",onClick:u[0]||(u[0]=y=>T(o)(!0))}," редактировать ")])])),T(s)?(P(),N("form",{key:1,class:"card-body gap-y-4",onSubmit:It(i,["prevent"])},[$("input",{class:"input input-sm input-bordered input-info",name:"value",value:(S=n.word)==null?void 0:S.value},null,8,tn),$("input",{class:"input input-sm input-bordered input-info",name:"translation",value:(D=n.word)==null?void 0:D.translation},null,8,en),$("div",nn,[$("button",{class:"btn btn-sm btn-outline btn-error",onClick:u[1]||(u[1]=y=>T(o)(!1))}," отмена "),sn])],40,Ke)):K("",!0)]}),_:1},8,["is-open"]))}}),rn=z({__name:"index",setup(n){const t=Rt(),{words:e}=Ct(t),{removeWord:s,modifyWord:o}=t,r=I(),f=h=>{r.value=h},i=()=>{r.value=void 0},d=h=>{s(h.id),i()},u=h=>{o(h),i()};return(h,g)=>(P(),N(ut,null,[Z(ye,{words:T(e),"selected-word":r.value,"onClick:word":f},null,8,["words","selected-word"]),Z(T(on),{word:r.value,"onClick:close":i,"onClick:remove":d,"onClick:save":u},null,8,["word"])],64))}}),an=Ot("editor",()=>{const n=te(Pt),t=I(""),e=I(!1);async function s(){e.value=!0;const r=t.value;r&&(await(n==null?void 0:n.addWord({value:r})),o(),e.value=!1)}function o(){t.value=""}return{value:t,isLoading:e,submitWord:s}}),ln=({element:n=document,offset:t}=cn)=>{const{directions:e,y:s,arrivedState:o}=xe(n,{behavior:"smooth"}),{bottom:r,top:f}=gt(o),{top:i,bottom:d}=gt(e),u=I(!1);return Lt(()=>{i.value||r.value||f.value?u.value=!1:s.value>((t==null?void 0:t.value)??0)&&d.value&&(u.value=!0)},{flush:"post"}),{isHidden:u}},cn={element:document},un=["src"],dn=z({__name:"speech",emits:["update:modelValue"],setup(n,{emit:t}){const{isSupported:e,isListening:s,isFinal:o,result:r,start:f,stop:i}=Le(),d=q(()=>`/focu/img/icons/${s.value?"voice_recording":"mic"}.svg`),u=q(()=>({"btn-active":s.value})),h=()=>{s.value?i():f()};return Lt(()=>{o.value&&(t("update:modelValue",r.value),i())}),(g,S)=>T(e)?(P(),N("button",{key:0,class:vt(["btn btn-success btn-square",T(u)]),onClick:h},[$("img",{src:T(d),alt:"toggle speech recognize",width:"32",height:"32"},null,8,un)],2)):K("",!0)}}),fn=["disabled"],hn=z({__name:"editor",setup(n,{expose:t}){const e=I(),s=an(),{value:o,isLoading:r}=Ct(s),{submitWord:f}=s,i=q(()=>{var u;return((u=e.value)==null?void 0:u.offsetHeight)||0}),{isHidden:d}=ln({offset:i});return t({elementRef:e}),(u,h)=>(P(),N("div",{ref_key:"elementRef",ref:e,class:vt(["root navbar bg-base-100 rounded-xl z-20 fixed -bottom-28 gap-x-2",{"bottom-1":!T(d)}])},[ee($("input",{"onUpdate:modelValue":h[0]||(h[0]=g=>dt(o)?o.value=g:null),type:"text",autocomplete:"off",class:"input input-bordered input-success flex-1",placeholder:"Type something...",disabled:T(r),onKeypress:h[1]||(h[1]=se((...g)=>T(f)&&T(f)(...g),["enter"]))},null,40,fn),[[ne,T(o)]]),Z(dn,{modelValue:T(o),"onUpdate:modelValue":h[2]||(h[2]=g=>dt(o)?o.value=g:null),disabled:T(r)},null,8,["modelValue","disabled"])],2))}});const vn=at(hn,[["__scopeId","data-v-84bd1967"]]),mn={class:"main h-full bg-base-200"},pn={class:"relative container mx-auto"},_n=z({__name:"index",setup(n){const t=Rt();re(Pt,t);const e=I(),s=q(()=>{var o;return{"padding-bottom":`calc(${(o=e.value)==null?void 0:o.elementRef.offsetHeight}px + var(--spacing))`}});return Mt(()=>{t.fetchWords()}),(o,r)=>(P(),N("main",mn,[$("div",pn,[$("section",{class:"p-2",style:oe(T(s))},[Z(T(rn))],4),Z(T(vn),{ref_key:"editorRef",ref:e},null,512)])]))}});const bn=at(_n,[["__scopeId","data-v-cd5c3012"]]);export{bn as default};
