var Bt=Object.defineProperty;var Vt=(n,t,e)=>t in n?Bt(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var k=(n,t,e)=>(Vt(n,typeof t!="symbol"?t+"":t,e),e);import{d as Ot,r as I,c as Ft,a as z,o as R,b as N,e as D,t as nt,f as Ut,g as Z,n as ht,F as ct,h as qt,u as T,i as K,j as ut,k as zt,l as Qt,m as q,p as Gt,q as Mt,s as Jt,w as st,v as Xt,x as gt,y as Wt,z as xt,T as Zt,A as It,B as Kt,C as Ct,D as te,E as _t,G as Lt,H as ee,I as ne,J as se,K as oe,L as re}from"./index-c91ed2fa.js";const Et={"en-ru":{key:"en-ru",source:"en",target:"ru"}};class ae{constructor({host:t}){k(this,"_host");k(this,"_headers",{"Content-Type":"application/json"});k(this,"get",async t=>this.makeRequest(t,"GET"));k(this,"post",async(t,{body:e})=>this.makeRequest(t,"POST",{body:e}));this._host=t}get host(){return this._host}prepareBody(t){return t?{body:JSON.stringify(t)}:{}}async makeRequest(t,e,s){const o=new URL(t,this.host),r=await globalThis.fetch(o,{method:e,...this.prepareBody(s==null?void 0:s.body),headers:{...this._headers}});if(r.ok)return await r.json();{const f=await r.text();return Promise.reject(new Error(`[Fetcher][${o.toString()}]: `+f))}}}class ie{constructor(t){k(this,"fetcher");k(this,"langPair");this.langPair=t,this.fetcher=new ae({host:"https://translate.argosopentech.com/"})}getTranslation(t){return this.fetcher.post("/translate",{body:{q:t,source:this.langPair.source,target:this.langPair.target}}).then(e=>e.translatedText)}}class le{constructor(t,e,s){k(this,"_database");k(this,"name");k(this,"version");k(this,"storeKeys");k(this,"handleOpen",t=>{this._database=t.result});k(this,"handleUpgrade",(t,e)=>{switch(e.oldVersion){default:{this.create(t);break}}});k(this,"create",t=>{this.database||(this._database=t.result),this.storeKeys.forEach(e=>{this.database.createObjectStore(e,{keyPath:"id",autoIncrement:!0})})});k(this,"makeGetAllTransaction",async t=>(await this.initDb(),new Promise((e,s)=>{const f=this.database.transaction(t,"readonly").objectStore(t).getAll();f.onsuccess=()=>e(f.result),f.onerror=()=>s(`[LocalDatabase][${t}]: Unable to get all`)})));k(this,"makeAddTransaction",async(t,e)=>(await this.initDb(),new Promise((s,o)=>{const l=this.database.transaction(t,"readwrite").objectStore(t).add(e);l.onsuccess=()=>s({...e,id:l.result}),l.onerror=()=>o(`[LocalDatabase][${t}]: Unable to add ${e}`)})));k(this,"makeDeleteTransaction",async(t,e)=>(await this.initDb(),new Promise((s,o)=>{const l=this.database.transaction(t,"readwrite").objectStore(t).delete(e);l.onsuccess=()=>s(e),l.onerror=()=>o(`[LocalDatabase][${t}]: Unable to delete ${e}`)})));k(this,"makeEditTransaction",async(t,e)=>(await this.initDb(),new Promise((s,o)=>{const l=this.database.transaction(t,"readwrite").objectStore(t).put(e);l.onsuccess=()=>s({...e,id:l.result}),l.onerror=()=>o(`[LocalDatabase][${t}]: Unable to edit ${l.result}`)})));this.name=t,this.version=e,this.storeKeys=s}get database(){return this._database}initDb(){return new Promise((t,e)=>{if(this.database)return t("Local database already initialized");const s=globalThis.indexedDB.open(this.name,this.version);s.onsuccess=()=>{this.handleOpen(s),t("Local database opened")},s.onupgradeneeded=o=>{this.handleUpgrade(s,o),t("Local database upgraded")},s.onerror=e})}}class ce{constructor(t){k(this,"dbInstance");k(this,"dbName","dictionaries");k(this,"dbVersion",1);k(this,"dbStoreKey");this.dbStoreKey=t,this.dbInstance=new le(this.dbName,this.dbVersion,Object.keys(Et)),this.dbInstance.initDb()}getDictionary(){return this.dbInstance.makeGetAllTransaction(this.dbStoreKey)}addWord(t){return this.dbInstance.makeAddTransaction(this.dbStoreKey,t)}deleteWord(t){return this.dbInstance.makeDeleteTransaction(this.dbStoreKey,t)}editWord(t){return this.dbInstance.makeEditTransaction(this.dbStoreKey,t)}}class ue{constructor(t="en-ru"){k(this,"localService");k(this,"translationService");k(this,"langPair");this.langPair=Et[t],this.localService=new ce(t),this.translationService=new ie(this.langPair)}getAll(){return this.localService.getDictionary()}async addWord(t){return this.localService.addWord({...t,translation:"",dateAdd:Date.now()})}async updateWordTranslation(t){const e=await this.translationService.getTranslation(t.value);return this.localService.editWord({...t,translation:e})}modifyWord(t){return this.localService.editWord(t)}async deleteWord(t){return this.localService.deleteWord(t)}}const Pt=Symbol("dictionary-store"),Rt=Ot("dictionary",()=>{const n=new ue,t=I([]),e=d=>{t.value=t.value.map(u=>d.id===u.id?d:u)},s=async({value:d})=>{const u={value:d},h=await n.addWord(u);t.value=[h,...t.value],o(h)},o=async d=>{e({...d,isLoadTranslation:!0});let u=d;try{u=await n.updateWordTranslation(d)}finally{e({...u,isLoadTranslation:!1})}};return{words:t,addWord:s,removeWord:async d=>{const u=await n.deleteWord(d);t.value=t.value.filter(({id:h})=>h!==u)},fetchWords:async()=>{t.value=await n.getAll().then(d=>d.reverse())},updateWordTranslation:o,modifyWord:async d=>{e({...d,isLoadTranslation:!0});let u=d;try{u=await n.modifyWord(d)}finally{e({...u,isLoadTranslation:!1})}}}});var dt={},de={get exports(){return dt},set exports(n){dt=n}};(function(n,t){(function(e,s){n.exports=s()})(Ft,function(){var e=1e3,s=6e4,o=36e5,r="millisecond",f="second",l="minute",d="hour",u="day",h="week",_="month",S="quarter",$="year",b="date",x="Invalid Date",P=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,B=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,at={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(v){var c=["th","st","nd","rd"],a=v%100;return"["+v+(c[(a-20)%10]||c[a]||c[0])+"]"}},J=function(v,c,a){var m=String(v);return!m||m.length>=c?v:""+Array(c+1-m.length).join(a)+v},C={s:J,z:function(v){var c=-v.utcOffset(),a=Math.abs(c),m=Math.floor(a/60),i=a%60;return(c<=0?"+":"-")+J(m,2,"0")+":"+J(i,2,"0")},m:function v(c,a){if(c.date()<a.date())return-v(a,c);var m=12*(a.year()-c.year())+(a.month()-c.month()),i=c.clone().add(m,_),g=a-i<0,p=c.clone().add(m+(g?-1:1),_);return+(-(m+(a-i)/(g?i-p:p-i))||0)},a:function(v){return v<0?Math.ceil(v)||0:Math.floor(v)},p:function(v){return{M:_,y:$,w:h,d:u,D:b,h:d,m:l,s:f,ms:r,Q:S}[v]||String(v||"").toLowerCase().replace(/s$/,"")},u:function(v){return v===void 0}},A="en",L={};L[A]=at;var H=function(v){return v instanceof ot},Q=function v(c,a,m){var i;if(!c)return A;if(typeof c=="string"){var g=c.toLowerCase();L[g]&&(i=g),a&&(L[g]=a,i=g);var p=c.split("-");if(!i&&p.length>1)return v(p[0])}else{var y=c.name;L[y]=c,i=y}return!m&&i&&(A=i),i||!m&&A},O=function(v,c){if(H(v))return v.clone();var a=typeof c=="object"?c:{};return a.date=v,a.args=arguments,new ot(a)},w=C;w.l=Q,w.i=H,w.w=function(v,c){return O(v,{locale:c.$L,utc:c.$u,x:c.$x,$offset:c.$offset})};var ot=function(){function v(a){this.$L=Q(a.locale,null,!0),this.parse(a)}var c=v.prototype;return c.parse=function(a){this.$d=function(m){var i=m.date,g=m.utc;if(i===null)return new Date(NaN);if(w.u(i))return new Date;if(i instanceof Date)return new Date(i);if(typeof i=="string"&&!/Z$/i.test(i)){var p=i.match(P);if(p){var y=p[2]-1||0,W=(p[7]||"0").substring(0,3);return g?new Date(Date.UTC(p[1],y,p[3]||1,p[4]||0,p[5]||0,p[6]||0,W)):new Date(p[1],y,p[3]||1,p[4]||0,p[5]||0,p[6]||0,W)}}return new Date(i)}(a),this.$x=a.x||{},this.init()},c.init=function(){var a=this.$d;this.$y=a.getFullYear(),this.$M=a.getMonth(),this.$D=a.getDate(),this.$W=a.getDay(),this.$H=a.getHours(),this.$m=a.getMinutes(),this.$s=a.getSeconds(),this.$ms=a.getMilliseconds()},c.$utils=function(){return w},c.isValid=function(){return this.$d.toString()!==x},c.isSame=function(a,m){var i=O(a);return this.startOf(m)<=i&&i<=this.endOf(m)},c.isAfter=function(a,m){return O(a)<this.startOf(m)},c.isBefore=function(a,m){return this.endOf(m)<O(a)},c.$g=function(a,m,i){return w.u(a)?this[m]:this.set(i,a)},c.unix=function(){return Math.floor(this.valueOf()/1e3)},c.valueOf=function(){return this.$d.getTime()},c.startOf=function(a,m){var i=this,g=!!w.u(m)||m,p=w.p(a),y=function(X,j){var U=w.w(i.$u?Date.UTC(i.$y,j,X):new Date(i.$y,j,X),i);return g?U:U.endOf(u)},W=function(X,j){return w.w(i.toDate()[X].apply(i.toDate("s"),(g?[0,0,0,0]:[23,59,59,999]).slice(j)),i)},M=this.$W,E=this.$M,F=this.$D,V="set"+(this.$u?"UTC":"");switch(p){case $:return g?y(1,0):y(31,11);case _:return g?y(1,E):y(0,E+1);case h:var tt=this.$locale().weekStart||0,et=(M<tt?M+7:M)-tt;return y(g?F-et:F+(6-et),E);case u:case b:return W(V+"Hours",0);case d:return W(V+"Minutes",1);case l:return W(V+"Seconds",2);case f:return W(V+"Milliseconds",3);default:return this.clone()}},c.endOf=function(a){return this.startOf(a,!1)},c.$set=function(a,m){var i,g=w.p(a),p="set"+(this.$u?"UTC":""),y=(i={},i[u]=p+"Date",i[b]=p+"Date",i[_]=p+"Month",i[$]=p+"FullYear",i[d]=p+"Hours",i[l]=p+"Minutes",i[f]=p+"Seconds",i[r]=p+"Milliseconds",i)[g],W=g===u?this.$D+(m-this.$W):m;if(g===_||g===$){var M=this.clone().set(b,1);M.$d[y](W),M.init(),this.$d=M.set(b,Math.min(this.$D,M.daysInMonth())).$d}else y&&this.$d[y](W);return this.init(),this},c.set=function(a,m){return this.clone().$set(a,m)},c.get=function(a){return this[w.p(a)]()},c.add=function(a,m){var i,g=this;a=Number(a);var p=w.p(m),y=function(E){var F=O(g);return w.w(F.date(F.date()+Math.round(E*a)),g)};if(p===_)return this.set(_,this.$M+a);if(p===$)return this.set($,this.$y+a);if(p===u)return y(1);if(p===h)return y(7);var W=(i={},i[l]=s,i[d]=o,i[f]=e,i)[p]||1,M=this.$d.getTime()+a*W;return w.w(M,this)},c.subtract=function(a,m){return this.add(-1*a,m)},c.format=function(a){var m=this,i=this.$locale();if(!this.isValid())return i.invalidDate||x;var g=a||"YYYY-MM-DDTHH:mm:ssZ",p=w.z(this),y=this.$H,W=this.$m,M=this.$M,E=i.weekdays,F=i.months,V=function(j,U,it,rt){return j&&(j[U]||j(m,g))||it[U].slice(0,rt)},tt=function(j){return w.s(y%12||12,j,"0")},et=i.meridiem||function(j,U,it){var rt=j<12?"AM":"PM";return it?rt.toLowerCase():rt},X={YY:String(this.$y).slice(-2),YYYY:this.$y,M:M+1,MM:w.s(M+1,2,"0"),MMM:V(i.monthsShort,M,F,3),MMMM:V(F,M),D:this.$D,DD:w.s(this.$D,2,"0"),d:String(this.$W),dd:V(i.weekdaysMin,this.$W,E,2),ddd:V(i.weekdaysShort,this.$W,E,3),dddd:E[this.$W],H:String(y),HH:w.s(y,2,"0"),h:tt(1),hh:tt(2),a:et(y,W,!0),A:et(y,W,!1),m:String(W),mm:w.s(W,2,"0"),s:String(this.$s),ss:w.s(this.$s,2,"0"),SSS:w.s(this.$ms,3,"0"),Z:p};return g.replace(B,function(j,U){return U||X[j]||p.replace(":","")})},c.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},c.diff=function(a,m,i){var g,p=w.p(m),y=O(a),W=(y.utcOffset()-this.utcOffset())*s,M=this-y,E=w.m(this,y);return E=(g={},g[$]=E/12,g[_]=E,g[S]=E/3,g[h]=(M-W)/6048e5,g[u]=(M-W)/864e5,g[d]=M/o,g[l]=M/s,g[f]=M/e,g)[p]||M,i?E:w.a(E)},c.daysInMonth=function(){return this.endOf(_).$D},c.$locale=function(){return L[this.$L]},c.locale=function(a,m){if(!a)return this.$L;var i=this.clone(),g=Q(a,m,!0);return g&&(i.$L=g),i},c.clone=function(){return w.w(this.$d,this)},c.toDate=function(){return new Date(this.valueOf())},c.toJSON=function(){return this.isValid()?this.toISOString():null},c.toISOString=function(){return this.$d.toISOString()},c.toString=function(){return this.$d.toUTCString()},v}(),pt=ot.prototype;return O.prototype=pt,[["$ms",r],["$s",f],["$m",l],["$H",d],["$W",u],["$M",_],["$y",$],["$D",b]].forEach(function(v){pt[v[1]]=function(c){return this.$g(c,v[0],v[1])}}),O.extend=function(v,c){return v.$i||(v(c,ot,O),v.$i=!0),O},O.locale=Q,O.isDayjs=H,O.unix=function(v){return O(1e3*v)},O.en=L[A],O.Ls=L,O.p={},O})})(de);const lt=dt,fe={class:"cell"},he={key:0,class:"progress"},ve=z({__name:"table_row",props:{word:null,isSelected:{type:Boolean}},emits:["click"],setup(n,{emit:t}){const e=n,s=()=>{t("click",e.word)};return(o,r)=>(R(),N("tr",{class:ht(["hover",{active:n.isSelected}]),onClick:s},[D("td",null,nt(n.word.value),1),D("td",fe,[Ut(nt(n.word.translation)+" ",1),n.word.isLoadTranslation?(R(),N("progress",he)):Z("",!0)])],2))}}),me={class:"table table-zebra w-full p-2"},pe=D("thead",null,[D("tr",null,[D("th",null,"Word"),D("th",null,"Translation")])],-1),ge={key:0},_e=D("td",null,null,-1),be=z({__name:"dictionary_table",props:{words:null,selectedWord:null},emits:["click:word"],setup(n,{emit:t}){const e=o=>{t("click:word",o)},s=(o,r)=>r?lt(o).isSame(lt(r),"day"):!1;return(o,r)=>(R(),N("table",me,[pe,D("tbody",null,[(R(!0),N(ct,null,qt(n.words,(f,l)=>{var d,u;return R(),N(ct,{key:f.id},[s(f.dateAdd,(d=n.words[l-1])==null?void 0:d.dateAdd)?Z("",!0):(R(),N("tr",ge,[D("th",null,nt(T(lt)(f.dateAdd).format("DD.MM.YYYY")),1),_e])),K(ve,{word:f,"is-selected":((u=n.selectedWord)==null?void 0:u.id)===f.id,onClick:e},null,8,["word","is-selected"])],64)}),128))])]))}});var bt;const At=typeof window<"u",ye=n=>typeof n=="string",G=()=>{},yt=At&&((bt=window==null?void 0:window.navigator)==null?void 0:bt.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function Y(n){return typeof n=="function"?n():T(n)}function Ht(n,t){function e(...s){return new Promise((o,r)=>{Promise.resolve(n(()=>t.apply(this,s),{fn:t,thisArg:this,args:s})).then(o).catch(r)})}return e}function we(n,t={}){let e,s,o=G;const r=l=>{clearTimeout(l),o(),o=G};return l=>{const d=Y(n),u=Y(t.maxWait);return e&&r(e),d<=0||u!==void 0&&u<=0?(s&&(r(s),s=null),Promise.resolve(l())):new Promise((h,_)=>{o=t.rejectOnCancel?_:h,u&&!s&&(s=setTimeout(()=>{e&&r(e),s=null,h(l())},u)),e=setTimeout(()=>{s&&r(s),s=null,h(l())},d)})}}function Se(n,t=!0,e=!0,s=!1){let o=0,r,f=!0,l=G,d;const u=()=>{r&&(clearTimeout(r),r=void 0,l(),l=G)};return _=>{const S=Y(n),$=Date.now()-o,b=()=>d=_();return u(),S<=0?(o=Date.now(),b()):($>S&&(e||!f)?(o=Date.now(),b()):t&&(d=new Promise((x,P)=>{l=s?P:x,r=setTimeout(()=>{o=Date.now(),f=!0,x(b()),u()},Math.max(0,S-$))})),!e&&!r&&(r=setTimeout(()=>f=!0,S)),f=!1,d)}}function $e(n){return n}function vt(n){return zt()?(Qt(n),!0):!1}function ke(n,t=200,e={}){return Ht(we(t,e),n)}function De(n,t=200,e=!1,s=!0,o=!1){return Ht(Se(t,e,s,o),n)}function jt(n){return typeof n=="function"?q(n):I(n)}function Te(n,t=!0){Gt()?Mt(n):t?n():Jt(n)}function Oe(n=!1,t={}){const{truthyValue:e=!0,falsyValue:s=!1}=t,o=ut(n),r=I(n);function f(l){if(arguments.length)return r.value=l,r.value;{const d=Y(e);return r.value=r.value===d?Y(s):d,r.value}}return o?f:[r,f]}function Me(n){var t;const e=Y(n);return(t=e==null?void 0:e.$el)!=null?t:e}const Nt=At?window:void 0;function ft(...n){let t,e,s,o;if(ye(n[0])||Array.isArray(n[0])?([e,s,o]=n,t=Nt):[t,e,s,o]=n,!t)return G;Array.isArray(e)||(e=[e]),Array.isArray(s)||(s=[s]);const r=[],f=()=>{r.forEach(h=>h()),r.length=0},l=(h,_,S,$)=>(h.addEventListener(_,S,$),()=>h.removeEventListener(_,S,$)),d=st(()=>[Me(t),Y(o)],([h,_])=>{f(),h&&r.push(...e.flatMap(S=>s.map($=>l(h,S,$,_))))},{immediate:!0,flush:"post"}),u=()=>{d(),f()};return vt(u),u}function We(n,t=!1){const e=I(),s=()=>e.value=!!n();return s(),Te(s,t),e}const wt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},St="__vueuse_ssr_handlers__";wt[St]=wt[St]||{};const $t=1;function xe(n,t={}){const{throttle:e=0,idle:s=200,onStop:o=G,onScroll:r=G,offset:f={left:0,right:0,top:0,bottom:0},eventListenerOptions:l={capture:!1,passive:!0},behavior:d="auto"}=t,u=I(0),h=I(0),_=q({get(){return u.value},set(C){$(C,void 0)}}),S=q({get(){return h.value},set(C){$(void 0,C)}});function $(C,A){var L,H,Q;const O=Y(n);O&&((Q=O instanceof Document?document.body:O)==null||Q.scrollTo({top:(L=Y(A))!=null?L:S.value,left:(H=Y(C))!=null?H:_.value,behavior:Y(d)}))}const b=I(!1),x=gt({left:!0,right:!1,top:!0,bottom:!1}),P=gt({left:!1,right:!1,top:!1,bottom:!1}),B=C=>{b.value&&(b.value=!1,P.left=!1,P.right=!1,P.top=!1,P.bottom=!1,o(C))},at=ke(B,e+s),J=C=>{const A=C.target===document?C.target.documentElement:C.target,L=A.scrollLeft;P.left=L<u.value,P.right=L>h.value,x.left=L<=0+(f.left||0),x.right=L+A.clientWidth>=A.scrollWidth-(f.right||0)-$t,u.value=L;let H=A.scrollTop;C.target===document&&!H&&(H=document.body.scrollTop),P.top=H<h.value,P.bottom=H>h.value,x.top=H<=0+(f.top||0),x.bottom=H+A.clientHeight>=A.scrollHeight-(f.bottom||0)-$t,h.value=H,b.value=!0,at(C),r(C)};return ft(n,"scroll",e?De(J,e,!0,!1):J,l),ft(n,"scrollend",B,l),{x:_,y:S,isScrolling:b,arrivedState:x,directions:P}}var kt;(function(n){n.UP="UP",n.RIGHT="RIGHT",n.DOWN="DOWN",n.LEFT="LEFT",n.NONE="NONE"})(kt||(kt={}));function Yt(n){const t=window.getComputedStyle(n);if(t.overflowX==="scroll"||t.overflowY==="scroll"||t.overflowX==="auto"&&n.clientHeight<n.scrollHeight||t.overflowY==="auto"&&n.clientWidth<n.scrollWidth)return!0;{const e=n.parentNode;return!e||e.tagName==="BODY"?!1:Yt(e)}}function Ie(n){const t=n||window.event,e=t.target;return Yt(e)?!1:t.touches.length>1?!0:(t.preventDefault&&t.preventDefault(),!1)}function Ce(n,t=!1){const e=I(t);let s=null,o;st(jt(n),l=>{if(l){const d=l;o=d.style.overflow,e.value&&(d.style.overflow="hidden")}},{immediate:!0});const r=()=>{const l=Y(n);!l||e.value||(yt&&(s=ft(l,"touchmove",d=>{Ie(d)},{passive:!1})),l.style.overflow="hidden",e.value=!0)},f=()=>{const l=Y(n);!l||!e.value||(yt&&(s==null||s()),l.style.overflow=o,e.value=!1)};return vt(f),q({get(){return e.value},set(l){l?r():f()}})}function Le(n={}){const{interimResults:t=!0,continuous:e=!0,window:s=Nt}=n,o=jt(n.lang||"en-US"),r=I(!1),f=I(!1),l=I(""),d=Xt(void 0),u=(x=!r.value)=>{r.value=x},h=()=>{r.value=!0},_=()=>{r.value=!1},S=s&&(s.SpeechRecognition||s.webkitSpeechRecognition),$=We(()=>S);let b;return $.value&&(b=new S,b.continuous=e,b.interimResults=t,b.lang=T(o),b.onstart=()=>{f.value=!1},st(o,x=>{b&&!r.value&&(b.lang=x)}),b.onresult=x=>{const P=Array.from(x.results).map(B=>(f.value=B.isFinal,B[0])).map(B=>B.transcript).join("");l.value=P,d.value=void 0},b.onerror=x=>{d.value=x},b.onend=()=>{r.value=!1,b.lang=T(o)},st(r,()=>{r.value?b.start():b.stop()})),vt(()=>{r.value=!1}),{isSupported:$,isListening:r,isFinal:f,recognition:b,result:l,error:d,toggle:u,start:h,stop:_}}var Ee=Object.defineProperty,Dt=Object.getOwnPropertySymbols,Pe=Object.prototype.hasOwnProperty,Re=Object.prototype.propertyIsEnumerable,Tt=(n,t,e)=>t in n?Ee(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e,Ae=(n,t)=>{for(var e in t||(t={}))Pe.call(t,e)&&Tt(n,e,t[e]);if(Dt)for(var e of Dt(t))Re.call(t,e)&&Tt(n,e,t[e]);return n};const He={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};Ae({linear:$e},He);const je={key:0,class:"fixed top-0 left-0 w-full h-full z-30 flex justify-center items-center"},Ne=["onClick"],Ye={class:"absolute card lg:w-96 w-11/12 bg-base-100 shadow-xl"},Be=z({__name:"modal",props:{isOpen:{type:Boolean}},emits:["click:background"],setup(n,{emit:t}){const e=n,s=Ce(document.body),o=()=>{t("click:background")};return st(()=>e.isOpen,r=>{s.value=r}),(r,f)=>(R(),Wt(Zt,{name:"modal"},{default:xt(()=>[n.isOpen?(R(),N("div",je,[D("div",{class:"bg-neutral/[.4] w-full h-full",onClick:It(o,["self"])},null,8,Ne),D("div",Ye,[Kt(r.$slots,"default",{},void 0,!0)])])):Z("",!0)]),_:3}))}});const mt=(n,t)=>{const e=n.__vccOpts||n;for(const[s,o]of t)e[s]=o;return e},Ve=mt(Be,[["__scopeId","data-v-1b4d69e4"]]),Fe={key:0,class:"card-body"},Ue={class:"card-title"},qe={class:"card-actions justify-end mt-2"},ze=["onSubmit"],Qe=["value"],Ge=["value"],Je={class:"card-actions justify-end mt-2"},Xe=D("button",{class:"btn btn-sm btn-outline btn-success",type:"submit"}," сохранить ",-1),Ze=z({__name:"record_modal",props:{word:null},emits:["click:close","click:remove","click:save"],setup(n,{emit:t}){const e=n,[s,o]=Oe(!1),r=()=>{o(!1),t("click:close")},f=()=>{e.word&&t("click:remove",e.word)},l=d=>{var _,S;if(!e.word)return;const u=new FormData(d.target),h={...e.word,value:((_=u.get("value"))==null?void 0:_.toString())??"",translation:((S=u.get("translation"))==null?void 0:S.toString())??""};t("click:save",h),o(!1)};return(d,u)=>(R(),Wt(T(Ve),{"is-open":!!n.word,"onClick:background":r},{default:xt(()=>{var h,_,S,$;return[T(s)?Z("",!0):(R(),N("div",Fe,[D("h1",Ue,nt((h=n.word)==null?void 0:h.value),1),D("p",null,nt((_=n.word)==null?void 0:_.translation),1),D("div",qe,[D("button",{class:"btn btn-sm btn-outline btn-error",onClick:f}," удалить "),D("button",{class:"btn btn-sm btn-outline btn-info",onClick:u[0]||(u[0]=b=>T(o)(!0))}," редактировать ")])])),T(s)?(R(),N("form",{key:1,class:"card-body gap-y-4",onSubmit:It(l,["prevent"])},[D("input",{class:"input input-sm input-bordered input-info",name:"value",value:(S=n.word)==null?void 0:S.value},null,8,Qe),D("input",{class:"input input-sm input-bordered input-info",name:"translation",value:($=n.word)==null?void 0:$.translation},null,8,Ge),D("div",Je,[D("button",{class:"btn btn-sm btn-outline btn-error",onClick:u[1]||(u[1]=b=>T(o)(!1))}," отмена "),Xe])],40,ze)):Z("",!0)]}),_:1},8,["is-open"]))}}),Ke=z({__name:"index",setup(n){const t=Rt(),{words:e}=Ct(t),{removeWord:s,modifyWord:o}=t,r=I(),f=h=>{r.value=h},l=()=>{r.value=void 0},d=h=>{s(h.id),l()},u=h=>{o(h)};return(h,_)=>(R(),N(ct,null,[K(be,{words:T(e),"selected-word":r.value,"onClick:word":f},null,8,["words","selected-word"]),K(T(Ze),{word:r.value,"onClick:close":l,"onClick:remove":d,"onClick:save":u},null,8,["word"])],64))}}),tn=Ot("editor",()=>{const n=te(Pt),t=I(""),e=I(!1);async function s(){e.value=!0;const r=t.value;r&&(await(n==null?void 0:n.addWord({value:r})),o(),e.value=!1)}function o(){t.value=""}return{value:t,isLoading:e,submitWord:s}}),en=({element:n=document,offset:t}=nn)=>{const{directions:e,y:s,arrivedState:o}=xe(n,{behavior:"smooth"}),{bottom:r,top:f}=_t(o),{top:l,bottom:d}=_t(e),u=I(!1);return Lt(()=>{l.value||r.value||f.value?u.value=!1:s.value>((t==null?void 0:t.value)??0)&&d.value&&(u.value=!0)},{flush:"post"}),{isHidden:u}},nn={element:document},sn=["src"],on=z({__name:"speech",emits:["update:modelValue"],setup(n,{emit:t}){const{isSupported:e,isListening:s,isFinal:o,result:r,start:f,stop:l}=Le(),d=q(()=>`/focu/img/icons/${s.value?"voice_recording":"mic"}.svg`),u=q(()=>({"btn-active":s.value})),h=()=>{s.value?l():f()};return Lt(()=>{o.value&&(t("update:modelValue",r.value),l())}),(_,S)=>T(e)?(R(),N("button",{key:0,class:ht(["btn btn-success btn-square",T(u)]),onClick:h},[D("img",{src:T(d),alt:"toggle speech recognize",width:"32",height:"32"},null,8,sn)],2)):Z("",!0)}}),rn=["disabled"],an=z({__name:"editor",setup(n,{expose:t}){const e=I(),s=tn(),{value:o,isLoading:r}=Ct(s),{submitWord:f}=s,l=q(()=>{var u;return((u=e.value)==null?void 0:u.offsetHeight)||0}),{isHidden:d}=en({offset:l});return t({elementRef:e}),(u,h)=>(R(),N("div",{ref_key:"elementRef",ref:e,class:ht(["root navbar bg-base-100 rounded-xl z-20 fixed -bottom-28 gap-x-2",{"bottom-1":!T(d)}])},[ee(D("input",{"onUpdate:modelValue":h[0]||(h[0]=_=>ut(o)?o.value=_:null),type:"text",autocomplete:"off",class:"input input-bordered input-success flex-1",placeholder:"Type something...",disabled:T(r),onKeypress:h[1]||(h[1]=se((..._)=>T(f)&&T(f)(..._),["enter"]))},null,40,rn),[[ne,T(o)]]),K(on,{modelValue:T(o),"onUpdate:modelValue":h[2]||(h[2]=_=>ut(o)?o.value=_:null),disabled:T(r)},null,8,["modelValue","disabled"])],2))}});const ln=mt(an,[["__scopeId","data-v-84bd1967"]]),cn={class:"main h-full bg-base-200"},un={class:"relative container mx-auto"},dn=z({__name:"index",setup(n){const t=Rt();re(Pt,t);const e=I(),s=q(()=>{var o;return{"padding-bottom":`calc(${(o=e.value)==null?void 0:o.elementRef.offsetHeight}px + var(--spacing))`}});return Mt(()=>{t.fetchWords()}),(o,r)=>(R(),N("main",cn,[D("div",un,[D("section",{class:"p-2",style:oe(T(s))},[K(T(Ke))],4),K(T(ln),{ref_key:"editorRef",ref:e},null,512)])]))}});const vn=mt(dn,[["__scopeId","data-v-cd5c3012"]]);export{vn as default};
