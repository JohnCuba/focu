var Ut=Object.defineProperty;var Vt=(n,t,e)=>t in n?Ut(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var D=(n,t,e)=>(Vt(n,typeof t!="symbol"?t+"":t,e),e);import{d as Mt,r as E,c as Ft,a as V,o as C,b as L,e as y,t as st,n as rt,F as dt,f as qt,u as k,g as K,h as z,i as ft,j as zt,k as Zt,l as Z,m as Qt,p as Wt,q as Gt,w as ot,s as Jt,v as bt,x as ht,y as Ct,T as Xt,z as vt,A as Kt,B as It,C as wt,D as Lt,E as te,G as ee,H as ne,I as se,J as oe}from"./index-414edfcc.js";const Et={"en-ru":{key:"en-ru",source:"en",target:"ru"}};class re{constructor({host:t}){D(this,"_host");D(this,"_headers",{"Content-Type":"application/json"});D(this,"get",async t=>this.makeRequest(t,"GET"));D(this,"post",async(t,{body:e})=>this.makeRequest(t,"POST",{body:e}));this._host=t}get host(){return this._host}prepareBody(t){return t?{body:JSON.stringify(t)}:{}}async makeRequest(t,e,s){const r=new URL(t,this.host),o=await globalThis.fetch(r,{method:e,...this.prepareBody(s==null?void 0:s.body),headers:{...this._headers}});if(o.ok)return await o.json();{const i=await o.text();return Promise.reject(new Error(`[Fetcher][${r.toString()}]: `+i))}}}class ae{constructor(t){D(this,"fetcher");D(this,"langPair");this.langPair=t,this.fetcher=new re({host:"https://translate.argosopentech.com/"})}getTranslation(t){return this.fetcher.post("/translate",{body:{q:t,source:this.langPair.source,target:this.langPair.target}}).then(e=>e.translatedText)}}class ie{constructor(t,e,s){D(this,"_database");D(this,"name");D(this,"version");D(this,"storeKeys");D(this,"handleOpen",t=>{this._database=t.result});D(this,"handleUpgrade",(t,e)=>{switch(e.oldVersion){default:{this.create(t);break}}});D(this,"create",t=>{this.database||(this._database=t.result),this.storeKeys.forEach(e=>{this.database.createObjectStore(e,{keyPath:"id",autoIncrement:!0})})});D(this,"makeGetAllTransaction",async t=>(await this.initDb(),new Promise((e,s)=>{const i=this.database.transaction(t,"readonly").objectStore(t).getAll();i.onsuccess=()=>e(i.result),i.onerror=()=>s(`[LocalDatabase][${t}]: Unable to get all`)})));D(this,"makeAddTransaction",async(t,e)=>(await this.initDb(),new Promise((s,r)=>{const u=this.database.transaction(t,"readwrite").objectStore(t).add(e);u.onsuccess=()=>s({...e,id:u.result}),u.onerror=()=>r(`[LocalDatabase][${t}]: Unable to add ${e}`)})));D(this,"makeDeleteTransaction",async(t,e)=>(await this.initDb(),new Promise((s,r)=>{const u=this.database.transaction(t,"readwrite").objectStore(t).delete(e);u.onsuccess=()=>s(e),u.onerror=()=>r(`[LocalDatabase][${t}]: Unable to delete ${e}`)})));D(this,"makeEditTransaction",async(t,e)=>(await this.initDb(),new Promise((s,r)=>{const u=this.database.transaction(t,"readwrite").objectStore(t).put(e);u.onsuccess=()=>s({...e,id:u.result}),u.onerror=()=>r(`[LocalDatabase][${t}]: Unable to edit ${u.result}`)})));this.name=t,this.version=e,this.storeKeys=s}get database(){return this._database}initDb(){return new Promise((t,e)=>{if(this.database)return t("Local database already initialized");const s=globalThis.indexedDB.open(this.name,this.version);s.onsuccess=()=>{this.handleOpen(s),t("Local database opened")},s.onupgradeneeded=r=>{this.handleUpgrade(s,r),t("Local database upgraded")},s.onerror=e})}}class le{constructor(t){D(this,"dbInstance");D(this,"dbName","dictionaries");D(this,"dbVersion",1);D(this,"dbStoreKey");this.dbStoreKey=t,this.dbInstance=new ie(this.dbName,this.dbVersion,Object.keys(Et)),this.dbInstance.initDb()}getDictionary(){return this.dbInstance.makeGetAllTransaction(this.dbStoreKey)}addWord(t){return this.dbInstance.makeAddTransaction(this.dbStoreKey,t)}deleteWord(t){return this.dbInstance.makeDeleteTransaction(this.dbStoreKey,t)}editWord(t){return this.dbInstance.makeEditTransaction(this.dbStoreKey,t)}}class ce{constructor(t="en-ru"){D(this,"localService");D(this,"translationService");D(this,"langPair");this.langPair=Et[t],this.localService=new le(t),this.translationService=new ae(this.langPair)}fetchTranslation(t){return this.translationService.getTranslation(t.value)}getAll(){return this.localService.getDictionary()}addWord(t){return this.localService.addWord({...t,translation:"",dateAdd:Date.now()})}async updateWordTranslation(t){const e=await this.fetchTranslation(t);return this.localService.editWord({...t,translation:e})}modifyWord(t){return this.localService.editWord(t)}deleteWord(t){return this.localService.deleteWord(t)}}const Pt=Symbol("dictionary-store"),At=Mt("dictionary",()=>{const n=new ce,t=E([]),e=c=>{t.value=t.value.map(f=>c.id===f.id?c:f)},s=async({value:c})=>{const f={value:c},g=await n.addWord(f);t.value=[g,...t.value],o(g)},r=c=>n.fetchTranslation(c),o=async c=>{e({...c,isLoadTranslation:!0});let f=c;try{f=await n.updateWordTranslation(c)}finally{e({...f,isLoadTranslation:!1})}};return{words:t,addWord:s,removeWord:async c=>{const f=await n.deleteWord(c);t.value=t.value.filter(({id:g})=>g!==f)},fetchWords:async()=>{t.value=await n.getAll().then(c=>c.reverse())},updateWordTranslation:o,modifyWord:async c=>{e({...c,isLoadTranslation:!0});let f=c;try{f=await n.modifyWord(c)}finally{e({...f,isLoadTranslation:!1})}},getWordTranslation:r}});var mt={},ue={get exports(){return mt},set exports(n){mt=n}};(function(n,t){(function(e,s){n.exports=s()})(Ft,function(){var e=1e3,s=6e4,r=36e5,o="millisecond",i="second",u="minute",h="hour",c="day",f="week",g="month",b="quarter",$="year",w="date",O="Invalid Date",I=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,Y=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,tt={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(v){var d=["th","st","nd","rd"],a=v%100;return"["+v+(d[(a-20)%10]||d[a]||d[0])+"]"}},J=function(v,d,a){var m=String(v);return!m||m.length>=d?v:""+Array(d+1-m.length).join(a)+v},P={s:J,z:function(v){var d=-v.utcOffset(),a=Math.abs(d),m=Math.floor(a/60),l=a%60;return(d<=0?"+":"-")+J(m,2,"0")+":"+J(l,2,"0")},m:function v(d,a){if(d.date()<a.date())return-v(a,d);var m=12*(a.year()-d.year())+(a.month()-d.month()),l=d.clone().add(m,g),_=a-l<0,p=d.clone().add(m+(_?-1:1),g);return+(-(m+(a-l)/(_?l-p:p-l))||0)},a:function(v){return v<0?Math.ceil(v)||0:Math.floor(v)},p:function(v){return{M:g,y:$,w:f,d:c,D:w,h,m:u,s:i,ms:o,Q:b}[v]||String(v||"").toLowerCase().replace(/s$/,"")},u:function(v){return v===void 0}},H="en",A={};A[H]=tt;var j=function(v){return v instanceof at},Q=function v(d,a,m){var l;if(!d)return H;if(typeof d=="string"){var _=d.toLowerCase();A[_]&&(l=_),a&&(A[_]=a,l=_);var p=d.split("-");if(!l&&p.length>1)return v(p[0])}else{var S=d.name;A[S]=d,l=S}return!m&&l&&(H=l),l||!m&&H},x=function(v,d){if(j(v))return v.clone();var a=typeof d=="object"?d:{};return a.date=v,a.args=arguments,new at(a)},T=P;T.l=Q,T.i=j,T.w=function(v,d){return x(v,{locale:d.$L,utc:d.$u,x:d.$x,$offset:d.$offset})};var at=function(){function v(a){this.$L=Q(a.locale,null,!0),this.parse(a)}var d=v.prototype;return d.parse=function(a){this.$d=function(m){var l=m.date,_=m.utc;if(l===null)return new Date(NaN);if(T.u(l))return new Date;if(l instanceof Date)return new Date(l);if(typeof l=="string"&&!/Z$/i.test(l)){var p=l.match(I);if(p){var S=p[2]-1||0,W=(p[7]||"0").substring(0,3);return _?new Date(Date.UTC(p[1],S,p[3]||1,p[4]||0,p[5]||0,p[6]||0,W)):new Date(p[1],S,p[3]||1,p[4]||0,p[5]||0,p[6]||0,W)}}return new Date(l)}(a),this.$x=a.x||{},this.init()},d.init=function(){var a=this.$d;this.$y=a.getFullYear(),this.$M=a.getMonth(),this.$D=a.getDate(),this.$W=a.getDay(),this.$H=a.getHours(),this.$m=a.getMinutes(),this.$s=a.getSeconds(),this.$ms=a.getMilliseconds()},d.$utils=function(){return T},d.isValid=function(){return this.$d.toString()!==O},d.isSame=function(a,m){var l=x(a);return this.startOf(m)<=l&&l<=this.endOf(m)},d.isAfter=function(a,m){return x(a)<this.startOf(m)},d.isBefore=function(a,m){return this.endOf(m)<x(a)},d.$g=function(a,m,l){return T.u(a)?this[m]:this.set(l,a)},d.unix=function(){return Math.floor(this.valueOf()/1e3)},d.valueOf=function(){return this.$d.getTime()},d.startOf=function(a,m){var l=this,_=!!T.u(m)||m,p=T.p(a),S=function(X,B){var q=T.w(l.$u?Date.UTC(l.$y,B,X):new Date(l.$y,B,X),l);return _?q:q.endOf(c)},W=function(X,B){return T.w(l.toDate()[X].apply(l.toDate("s"),(_?[0,0,0,0]:[23,59,59,999]).slice(B)),l)},M=this.$W,R=this.$M,F=this.$D,U="set"+(this.$u?"UTC":"");switch(p){case $:return _?S(1,0):S(31,11);case g:return _?S(1,R):S(0,R+1);case f:var et=this.$locale().weekStart||0,nt=(M<et?M+7:M)-et;return S(_?F-nt:F+(6-nt),R);case c:case w:return W(U+"Hours",0);case h:return W(U+"Minutes",1);case u:return W(U+"Seconds",2);case i:return W(U+"Milliseconds",3);default:return this.clone()}},d.endOf=function(a){return this.startOf(a,!1)},d.$set=function(a,m){var l,_=T.p(a),p="set"+(this.$u?"UTC":""),S=(l={},l[c]=p+"Date",l[w]=p+"Date",l[g]=p+"Month",l[$]=p+"FullYear",l[h]=p+"Hours",l[u]=p+"Minutes",l[i]=p+"Seconds",l[o]=p+"Milliseconds",l)[_],W=_===c?this.$D+(m-this.$W):m;if(_===g||_===$){var M=this.clone().set(w,1);M.$d[S](W),M.init(),this.$d=M.set(w,Math.min(this.$D,M.daysInMonth())).$d}else S&&this.$d[S](W);return this.init(),this},d.set=function(a,m){return this.clone().$set(a,m)},d.get=function(a){return this[T.p(a)]()},d.add=function(a,m){var l,_=this;a=Number(a);var p=T.p(m),S=function(R){var F=x(_);return T.w(F.date(F.date()+Math.round(R*a)),_)};if(p===g)return this.set(g,this.$M+a);if(p===$)return this.set($,this.$y+a);if(p===c)return S(1);if(p===f)return S(7);var W=(l={},l[u]=s,l[h]=r,l[i]=e,l)[p]||1,M=this.$d.getTime()+a*W;return T.w(M,this)},d.subtract=function(a,m){return this.add(-1*a,m)},d.format=function(a){var m=this,l=this.$locale();if(!this.isValid())return l.invalidDate||O;var _=a||"YYYY-MM-DDTHH:mm:ssZ",p=T.z(this),S=this.$H,W=this.$m,M=this.$M,R=l.weekdays,F=l.months,U=function(B,q,ct,it){return B&&(B[q]||B(m,_))||ct[q].slice(0,it)},et=function(B){return T.s(S%12||12,B,"0")},nt=l.meridiem||function(B,q,ct){var it=B<12?"AM":"PM";return ct?it.toLowerCase():it},X={YY:String(this.$y).slice(-2),YYYY:this.$y,M:M+1,MM:T.s(M+1,2,"0"),MMM:U(l.monthsShort,M,F,3),MMMM:U(F,M),D:this.$D,DD:T.s(this.$D,2,"0"),d:String(this.$W),dd:U(l.weekdaysMin,this.$W,R,2),ddd:U(l.weekdaysShort,this.$W,R,3),dddd:R[this.$W],H:String(S),HH:T.s(S,2,"0"),h:et(1),hh:et(2),a:nt(S,W,!0),A:nt(S,W,!1),m:String(W),mm:T.s(W,2,"0"),s:String(this.$s),ss:T.s(this.$s,2,"0"),SSS:T.s(this.$ms,3,"0"),Z:p};return _.replace(Y,function(B,q){return q||X[B]||p.replace(":","")})},d.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},d.diff=function(a,m,l){var _,p=T.p(m),S=x(a),W=(S.utcOffset()-this.utcOffset())*s,M=this-S,R=T.m(this,S);return R=(_={},_[$]=R/12,_[g]=R,_[b]=R/3,_[f]=(M-W)/6048e5,_[c]=(M-W)/864e5,_[h]=M/r,_[u]=M/s,_[i]=M/e,_)[p]||M,l?R:T.a(R)},d.daysInMonth=function(){return this.endOf(g).$D},d.$locale=function(){return A[this.$L]},d.locale=function(a,m){if(!a)return this.$L;var l=this.clone(),_=Q(a,m,!0);return _&&(l.$L=_),l},d.clone=function(){return T.w(this.$d,this)},d.toDate=function(){return new Date(this.valueOf())},d.toJSON=function(){return this.isValid()?this.toISOString():null},d.toISOString=function(){return this.$d.toISOString()},d.toString=function(){return this.$d.toUTCString()},v}(),gt=at.prototype;return x.prototype=gt,[["$ms",o],["$s",i],["$m",u],["$H",h],["$W",c],["$M",g],["$y",$],["$D",w]].forEach(function(v){gt[v[1]]=function(d){return this.$g(d,v[0],v[1])}}),x.extend=function(v,d){return v.$i||(v(d,at,x),v.$i=!0),x},x.locale=Q,x.isDayjs=j,x.unix=function(v){return x(1e3*v)},x.en=A[H],x.Ls=A,x.p={},x})})(ue);const ut=mt,de={class:"cell"},fe={key:0},he={key:1,class:"progress"},ve=V({__name:"table_row",props:{word:null,isSelected:{type:Boolean}},emits:["click"],setup(n,{emit:t}){const e=n,s=()=>{t("click",e.word)};return(r,o)=>(C(),L("tr",{class:rt(["hover",{active:n.isSelected}]),onClick:s},[y("td",null,st(n.word.value),1),y("td",de,[n.word.isLoadTranslation?(C(),L("progress",he)):(C(),L("span",fe,st(n.word.translation),1))])],2))}}),me={class:"table table-zebra w-full p-2"},pe=y("thead",null,[y("tr",null,[y("th",null,"Word"),y("th",null,"Translation")])],-1),_e={key:0},ge=y("td",null,null,-1),be=V({__name:"dictionary_table",props:{words:null,selectedWord:null},emits:["click:word"],setup(n,{emit:t}){const e=r=>{t("click:word",r)},s=(r,o)=>o?ut(r).isSame(ut(o),"day"):!1;return(r,o)=>(C(),L("table",me,[pe,y("tbody",null,[(C(!0),L(dt,null,qt(n.words,(i,u)=>{var h,c;return C(),L(dt,{key:i.id},[s(i.dateAdd,(h=n.words[u-1])==null?void 0:h.dateAdd)?K("",!0):(C(),L("tr",_e,[y("th",null,st(k(ut)(i.dateAdd).format("DD.MM.YYYY")),1),ge])),z(ve,{word:i,"is-selected":((c=n.selectedWord)==null?void 0:c.id)===i.id,onClick:e},null,8,["word","is-selected"])],64)}),128))])]))}});var yt;const Rt=typeof window<"u",we=n=>typeof n=="string",G=()=>{},$t=Rt&&((yt=window==null?void 0:window.navigator)==null?void 0:yt.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function N(n){return typeof n=="function"?n():k(n)}function Ht(n,t){function e(...s){return new Promise((r,o)=>{Promise.resolve(n(()=>t.apply(this,s),{fn:t,thisArg:this,args:s})).then(r).catch(o)})}return e}function ye(n,t={}){let e,s,r=G;const o=u=>{clearTimeout(u),r(),r=G};return u=>{const h=N(n),c=N(t.maxWait);return e&&o(e),h<=0||c!==void 0&&c<=0?(s&&(o(s),s=null),Promise.resolve(u())):new Promise((f,g)=>{r=t.rejectOnCancel?g:f,c&&!s&&(s=setTimeout(()=>{e&&o(e),s=null,f(u())},c)),e=setTimeout(()=>{s&&o(s),s=null,f(u())},h)})}}function $e(n,t=!0,e=!0,s=!1){let r=0,o,i=!0,u=G,h;const c=()=>{o&&(clearTimeout(o),o=void 0,u(),u=G)};return g=>{const b=N(n),$=Date.now()-r,w=()=>h=g();return c(),b<=0?(r=Date.now(),w()):($>b&&(e||!i)?(r=Date.now(),w()):t&&(h=new Promise((O,I)=>{u=s?I:O,o=setTimeout(()=>{r=Date.now(),i=!0,O(w()),c()},Math.max(0,b-$))})),!e&&!o&&(o=setTimeout(()=>i=!0,b)),i=!1,h)}}function Se(n){return n}function _t(n){return zt()?(Zt(n),!0):!1}function Te(n,t=200,e={}){return Ht(ye(t,e),n)}function ke(n,t=200,e=!1,s=!0,r=!1){return Ht($e(t,e,s,r),n)}function jt(n){return typeof n=="function"?Z(n):E(n)}function De(n,t=!0){Qt()?Wt(n):t?n():Gt(n)}function Oe(n=!1,t={}){const{truthyValue:e=!0,falsyValue:s=!1}=t,r=ft(n),o=E(n);function i(u){if(arguments.length)return o.value=u,o.value;{const h=N(e);return o.value=o.value===h?N(s):h,o.value}}return r?i:[o,i]}function xe(n){var t;const e=N(n);return(t=e==null?void 0:e.$el)!=null?t:e}const Bt=Rt?window:void 0;function pt(...n){let t,e,s,r;if(we(n[0])||Array.isArray(n[0])?([e,s,r]=n,t=Bt):[t,e,s,r]=n,!t)return G;Array.isArray(e)||(e=[e]),Array.isArray(s)||(s=[s]);const o=[],i=()=>{o.forEach(f=>f()),o.length=0},u=(f,g,b,$)=>(f.addEventListener(g,b,$),()=>f.removeEventListener(g,b,$)),h=ot(()=>[xe(t),N(r)],([f,g])=>{i(),f&&o.push(...e.flatMap(b=>s.map($=>u(f,b,$,g))))},{immediate:!0,flush:"post"}),c=()=>{h(),i()};return _t(c),c}function Me(n,t=!1){const e=E(),s=()=>e.value=!!n();return s(),De(s,t),e}const St=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Tt="__vueuse_ssr_handlers__";St[Tt]=St[Tt]||{};const kt=1;function We(n,t={}){const{throttle:e=0,idle:s=200,onStop:r=G,onScroll:o=G,offset:i={left:0,right:0,top:0,bottom:0},eventListenerOptions:u={capture:!1,passive:!0},behavior:h="auto"}=t,c=E(0),f=E(0),g=Z({get(){return c.value},set(P){$(P,void 0)}}),b=Z({get(){return f.value},set(P){$(void 0,P)}});function $(P,H){var A,j,Q;const x=N(n);x&&((Q=x instanceof Document?document.body:x)==null||Q.scrollTo({top:(A=N(H))!=null?A:b.value,left:(j=N(P))!=null?j:g.value,behavior:N(h)}))}const w=E(!1),O=bt({left:!0,right:!1,top:!0,bottom:!1}),I=bt({left:!1,right:!1,top:!1,bottom:!1}),Y=P=>{w.value&&(w.value=!1,I.left=!1,I.right=!1,I.top=!1,I.bottom=!1,r(P))},tt=Te(Y,e+s),J=P=>{const H=P.target===document?P.target.documentElement:P.target,A=H.scrollLeft;I.left=A<c.value,I.right=A>f.value,O.left=A<=0+(i.left||0),O.right=A+H.clientWidth>=H.scrollWidth-(i.right||0)-kt,c.value=A;let j=H.scrollTop;P.target===document&&!j&&(j=document.body.scrollTop),I.top=j<f.value,I.bottom=j>f.value,O.top=j<=0+(i.top||0),O.bottom=j+H.clientHeight>=H.scrollHeight-(i.bottom||0)-kt,f.value=j,w.value=!0,tt(P),o(P)};return pt(n,"scroll",e?ke(J,e,!0,!1):J,u),pt(n,"scrollend",Y,u),{x:g,y:b,isScrolling:w,arrivedState:O,directions:I}}var Dt;(function(n){n.UP="UP",n.RIGHT="RIGHT",n.DOWN="DOWN",n.LEFT="LEFT",n.NONE="NONE"})(Dt||(Dt={}));function Nt(n){const t=window.getComputedStyle(n);if(t.overflowX==="scroll"||t.overflowY==="scroll"||t.overflowX==="auto"&&n.clientHeight<n.scrollHeight||t.overflowY==="auto"&&n.clientWidth<n.scrollWidth)return!0;{const e=n.parentNode;return!e||e.tagName==="BODY"?!1:Nt(e)}}function Ce(n){const t=n||window.event,e=t.target;return Nt(e)?!1:t.touches.length>1?!0:(t.preventDefault&&t.preventDefault(),!1)}function Ie(n,t=!1){const e=E(t);let s=null,r;ot(jt(n),u=>{if(u){const h=u;r=h.style.overflow,e.value&&(h.style.overflow="hidden")}},{immediate:!0});const o=()=>{const u=N(n);!u||e.value||($t&&(s=pt(u,"touchmove",h=>{Ce(h)},{passive:!1})),u.style.overflow="hidden",e.value=!0)},i=()=>{const u=N(n);!u||!e.value||($t&&(s==null||s()),u.style.overflow=r,e.value=!1)};return _t(i),Z({get(){return e.value},set(u){u?o():i()}})}function Le(n={}){const{interimResults:t=!0,continuous:e=!0,window:s=Bt}=n,r=jt(n.lang||"en-US"),o=E(!1),i=E(!1),u=E(""),h=Jt(void 0),c=(O=!o.value)=>{o.value=O},f=()=>{o.value=!0},g=()=>{o.value=!1},b=s&&(s.SpeechRecognition||s.webkitSpeechRecognition),$=Me(()=>b);let w;return $.value&&(w=new b,w.continuous=e,w.interimResults=t,w.lang=k(r),w.onstart=()=>{i.value=!1},ot(r,O=>{w&&!o.value&&(w.lang=O)}),w.onresult=O=>{const I=Array.from(O.results).map(Y=>(i.value=Y.isFinal,Y[0])).map(Y=>Y.transcript).join("");u.value=I,h.value=void 0},w.onerror=O=>{h.value=O},w.onend=()=>{o.value=!1,w.lang=k(r)},ot(o,()=>{o.value?w.start():w.stop()})),_t(()=>{o.value=!1}),{isSupported:$,isListening:o,isFinal:i,recognition:w,result:u,error:h,toggle:c,start:f,stop:g}}var Ee=Object.defineProperty,Ot=Object.getOwnPropertySymbols,Pe=Object.prototype.hasOwnProperty,Ae=Object.prototype.propertyIsEnumerable,xt=(n,t,e)=>t in n?Ee(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e,Re=(n,t)=>{for(var e in t||(t={}))Pe.call(t,e)&&xt(n,e,t[e]);if(Ot)for(var e of Ot(t))Ae.call(t,e)&&xt(n,e,t[e]);return n};const He={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};Re({linear:Se},He);const je={key:0,class:"fixed top-0 left-0 w-full h-full z-30 flex justify-center items-center"},Be=["onClick"],Ne={class:"absolute card lg:w-96 w-11/12 bg-base-100 shadow-xl"},Ye=V({__name:"modal",props:{isOpen:{type:Boolean}},emits:["click:background"],setup(n,{emit:t}){const e=n,s=Ie(document.body),r=()=>{t("click:background")};return ot(()=>e.isOpen,o=>{s.value=o}),(o,i)=>(C(),ht(Xt,{name:"modal"},{default:Ct(()=>[n.isOpen?(C(),L("div",je,[y("div",{class:"bg-neutral/[.4] w-full h-full",onClick:vt(r,["self"])},null,8,Be),y("div",Ne,[Kt(o.$slots,"default",{},void 0,!0)])])):K("",!0)]),_:3}))}});const lt=(n,t)=>{const e=n.__vccOpts||n;for(const[s,r]of t)e[s]=r;return e},Ue=lt(Ye,[["__scopeId","data-v-1b4d69e4"]]),Ve={},Fe={xmlns:"http://www.w3.org/2000/svg",height:"100%",width:"100%",viewBox:"0 96 960 960"},qe=y("path",{class:"fill-inherit",d:"m361 757 119-121 120 121 47-48-119-121 119-121-47-48-120 121-119-121-48 48 120 121-120 121 48 48ZM261 936q-24 0-42-18t-18-42V306h-41v-60h188v-30h264v30h188v60h-41v570q0 24-18 42t-42 18H261Zm438-630H261v570h438V306Zm-438 0v570-570Z"},null,-1),ze=[qe];function Ze(n,t){return C(),L("svg",Fe,ze)}const Qe=lt(Ve,[["render",Ze]]),Ge={},Je={xmlns:"http://www.w3.org/2000/svg",height:"100%",viewBox:"0 96 960 960",width:"100%"},Xe=y("path",{class:"fill-inherit",d:"m475 976 181-480h82l186 480h-87l-41-126H604l-47 126h-82Zm151-196h142l-70-194h-2l-70 194Zm-466 76-55-55 204-204q-38-44-67.5-88.5T190 416h87q17 33 37.5 62.5T361 539q45-47 75-97.5T487 336H40v-80h280v-80h80v80h280v80H567q-22 69-58.5 135.5T419 598l98 99-30 81-127-122-200 200Z"},null,-1),Ke=[Xe];function tn(n,t){return C(),L("svg",Je,Ke)}const en=lt(Ge,[["render",tn]]),nn={key:0,class:"card-body"},sn={class:"card-title"},on={class:"card-actions justify-end mt-2"},rn=["onSubmit"],an=["value"],ln={class:"form-control"},cn={class:"input-group"},un=["value"],dn=["disabled","onClick"],fn={class:"card-actions justify-end mt-2"},hn=y("button",{class:"btn btn-sm btn-outline btn-success",type:"submit"}," сохранить ",-1),vn=V({__name:"record_modal",props:{word:null},emits:["click:close","click:remove","click:save","click:update-translation"],setup(n,{emit:t}){const e=n,[s,r]=Oe(!1),o=()=>{r(!1),t("click:close")},i=()=>{e.word&&t("click:remove",e.word)},u=c=>{var b,$;if(!e.word)return;const f=new FormData(c.target),g={...e.word,value:((b=f.get("value"))==null?void 0:b.toString())??"",translation:(($=f.get("translation"))==null?void 0:$.toString())??""};t("click:save",g),r(!1)},h=()=>{e.word&&t("click:update-translation",e.word)};return(c,f)=>(C(),ht(k(Ue),{"is-open":!!n.word,"onClick:background":o},{default:Ct(()=>{var g,b,$,w,O,I,Y;return[k(s)?K("",!0):(C(),L("div",nn,[y("h1",sn,st((g=n.word)==null?void 0:g.value),1),y("p",null,st((b=n.word)==null?void 0:b.translation),1),y("div",on,[y("button",{class:"btn btn-sm btn-outline btn-error fill-error hover:fill-info-content",onClick:i},[z(k(Qe),{class:"w-5 h-5"})]),y("button",{class:"btn btn-sm btn-outline btn-info",onClick:f[0]||(f[0]=tt=>k(r)(!0))}," редактировать ")])])),k(s)?(C(),L("form",{key:1,class:"card-body gap-y-4",onSubmit:vt(u,["prevent"])},[y("input",{class:"input input-sm input-bordered input-info",name:"value",value:($=n.word)==null?void 0:$.value},null,8,an),y("div",ln,[y("div",cn,[y("input",{class:"input input-sm input-bordered input-info w-full",name:"translation",value:(w=n.word)==null?void 0:w.translation},null,8,un),y("button",{class:rt(["btn btn-sm btn-square fill-info-content hover:fill-info",{loading:(O=n.word)==null?void 0:O.isLoadTranslation}]),disabled:(I=n.word)==null?void 0:I.isLoadTranslation,onClick:vt(h,["prevent"])},[(Y=n.word)!=null&&Y.isLoadTranslation?K("",!0):(C(),ht(k(en),{key:0,class:"w-4 h-4"}))],10,dn)])]),y("div",fn,[y("button",{class:"btn btn-sm btn-outline btn-error",onClick:f[1]||(f[1]=tt=>k(r)(!1))}," отмена "),hn])],40,rn)):K("",!0)]}),_:1},8,["is-open"]))}}),mn=V({__name:"index",setup(n){const t=At(),{words:e}=It(t),{removeWord:s,modifyWord:r,getWordTranslation:o}=t,i=E(),u=b=>{i.value=b},h=()=>{i.value=void 0},c=b=>{s(b.id),h()},f=b=>{r(b),h()},g=b=>{i.value&&(i.value={...i.value,isLoadTranslation:!0},o(b).then($=>{i.value&&(i.value={...i.value,translation:$,isLoadTranslation:!1})}).finally(()=>{i.value&&(i.value={...i.value,isLoadTranslation:!1})}))};return(b,$)=>(C(),L(dt,null,[z(be,{words:k(e),"selected-word":i.value,"onClick:word":u},null,8,["words","selected-word"]),z(k(vn),{word:i.value,"onClick:close":h,"onClick:remove":c,"onClick:save":f,"onClick:updateTranslation":g},null,8,["word"])],64))}}),Yt=({scrollElement:n=document,offset:t}=pn)=>{const{directions:e,y:s,arrivedState:r}=We(n,{behavior:"smooth"}),{bottom:o,top:i}=wt(r),{top:u,bottom:h}=wt(e),c=E(!1);return Lt(()=>{u.value||o.value||i.value?c.value=!1:s.value>((t==null?void 0:t.value)??0)&&h.value&&(c.value=!0)},{flush:"post"}),{isHidden:c}},pn={scrollElement:document},_n=y("div",{class:"navbar-start"},[y("h1",{class:"normal-case font-semibold text-xl select-none"}," focu ")],-1),gn=[_n],bn=V({__name:"header",setup(n){const t=E(),e=Z(()=>{var r;return((r=t.value)==null?void 0:r.offsetHeight)||0}),{isHidden:s}=Yt({offset:e});return(r,o)=>(C(),L("header",{ref_key:"elementRef",ref:t,class:rt(["navbar bg-base-100 rounded-xl z-20 fixed -top-28 gap-x-2 drop-shadow-xl",{"top-1":!k(s)}])},gn,2))}}),wn=Mt("editor",()=>{const n=te(Pt),t=E(""),e=E(!1);async function s(){e.value=!0;const o=t.value;o&&(await(n==null?void 0:n.addWord({value:o})),r(),e.value=!1)}function r(){t.value=""}return{value:t,isLoading:e,submitWord:s}}),yn=["src"],$n=V({__name:"speech",emits:["update:modelValue"],setup(n,{emit:t}){const{isSupported:e,isListening:s,isFinal:r,result:o,start:i,stop:u}=Le(),h=Z(()=>`/focu/img/icons/${s.value?"voice_recording":"mic"}.svg`),c=Z(()=>({"btn-active":s.value})),f=()=>{s.value?u():i()};return Lt(()=>{r.value&&(t("update:modelValue",o.value),u())}),(g,b)=>k(e)?(C(),L("button",{key:0,class:rt(["btn btn-success btn-square drop-shadow",k(c)]),onClick:f},[y("img",{src:k(h),alt:"toggle speech recognize",width:"32",height:"32"},null,8,yn)],2)):K("",!0)}}),Sn=["disabled"],Tn=V({__name:"editor",setup(n){const t=E(),e=wn(),{value:s,isLoading:r}=It(e),{submitWord:o}=e,i=Z(()=>{var h;return((h=t.value)==null?void 0:h.offsetHeight)||0}),{isHidden:u}=Yt({offset:i});return(h,c)=>(C(),L("div",{ref_key:"elementRef",ref:t,class:rt(["navbar bg-base-100 rounded-xl z-20 fixed -bottom-28 gap-x-2 drop-shadow-2xl",{"bottom-1":!k(u)}])},[ee(y("input",{"onUpdate:modelValue":c[0]||(c[0]=f=>ft(s)?s.value=f:null),type:"text",autocomplete:"off",class:"input input-bordered input-success flex-1 drop-shadow",placeholder:"Type something...",disabled:k(r),onKeypress:c[1]||(c[1]=se((...f)=>k(o)&&k(o)(...f),["enter"]))},null,40,Sn),[[ne,k(s)]]),z($n,{modelValue:k(s),"onUpdate:modelValue":c[2]||(c[2]=f=>ft(s)?s.value=f:null),disabled:k(r)},null,8,["modelValue","disabled"])],2))}}),kn={class:"main bg-base-200 min-h-screen"},Dn={class:"relative container mx-auto"},On={class:"px-2 py-20"},xn=V({__name:"index",setup(n){const t=At();return oe(Pt,t),Wt(()=>{t.fetchWords()}),(e,s)=>(C(),L("main",kn,[y("div",Dn,[z(k(bn),{class:"container"}),y("section",On,[z(k(mn))]),z(k(Tn),{class:"container"})])]))}});const Cn=lt(xn,[["__scopeId","data-v-781edc82"]]);export{Cn as default};
